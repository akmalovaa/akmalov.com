"use strict";(self.webpackChunkakmalov_com=self.webpackChunkakmalov_com||[]).push([[1477],{10:n=>{n.exports=JSON.parse('{"blogPosts":[{"id":"uptime-kuma","metadata":{"permalink":"/blog/uptime-kuma","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/uptime-kuma/index.md","source":"@site/blog/uptime-kuma/index.md","title":"Uptime-kuma self-hosted monitoring","description":"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u0442\u044c \u0445\u043e\u0441\u0442\u044b","date":"2023-11-06T10:00:00.000Z","formattedDate":"6 \u043d\u043e\u044f\u0431\u0440\u044f 2023 \u0433.","tags":[{"label":"monitoring","permalink":"/blog/tags/monitoring"},{"label":"docker","permalink":"/blog/tags/docker"},{"label":"ssl","permalink":"/blog/tags/ssl"}],"readingTime":3.315,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"uptime-kuma","title":"Uptime-kuma self-hosted monitoring","description":"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u0442\u044c \u0445\u043e\u0441\u0442\u044b","image":"./uptime-kuma-logo.png","tags":["monitoring","docker","ssl"],"keywords":["uptime-kuma","monitoring","docker","timeweb","selectel","uptime","ssl","telegram","caddy"],"date":"2023-11-06T10:00"},"nextItem":{"title":"Auto wildcard cert service","permalink":"/blog/wildcard-ssl-cert"}},"content":"\u0412\u043d\u0435\u0448\u043d\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u0434\u043b\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0445\u043e\u0441\u0442\u043e\u0432\\n\\n\\n[![uptime-kuma](./uptime-kuma-logo.png)](/blog/uptime-kuma)\\n\\n\\n\x3c!--truncate--\x3e\\n## \u0412\u043d\u0435\u0448\u043d\u0438\u0439 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0445\u043e\u0441\u0442\u043e\u0432\\n\\n\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u0441\u0432\u043e\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 \u0441\u043d\u0430\u0440\u0443\u0436\u0438 (\u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430), \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430.\\n\u042d\u0442\u043e \u043e\u0434\u0438\u043d \u0438\u0437 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u043e\u0434\u043d\u0438\u043c\u0430\u0442\u044c \u0441\u043d\u0430\u0440\u0443\u0436\u0438, \u043d\u0435 \u043d\u0430 \u0441\u0432\u043e\u0435\u0439 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435, \u0442.\u043a. \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0432 \u044d\u0442\u043e\u043c \u0434\u0435\u043b\u0435 \u043d\u0435 \u043e\u0441\u043e\u0431\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442, \u0434\u0430\u0436\u0435 \u043a\u043e\u0433\u0434\u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u0432\u0441\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u0436\u0438\u0432\u044b\u043c\u0438, \u0441\u043d\u0430\u0440\u0443\u0436\u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0435 \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043f\u043e \u0440\u0430\u0437\u043d\u044b\u043c \u043f\u0440\u0438\u0447\u0438\u043d\u0430\u043c.\\n\\n\u041f\u0440\u043e\u0431\u043e\u0432\u0430\u043b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u043d\u043e \u0441\u0430\u043c\u044b\u043c \u043f\u0440\u043e\u0441\u0442\u044b\u043c \u043e\u043a\u0430\u0437\u0430\u043b\u0441\u044f **uptime-kuma** \u0441\u0435\u0440\u0432\u0438\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0445\u043e\u0441\u0442\u043e\u0432.\\n\\n\\n## \u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435 uptime-kuma \\n\\n\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 [Github](https://github.com/louislam/uptime-kuma)\\n\\n\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043b\u044e\u0441\u044b:\\n- \u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u0432\u044b\u0431\u043e\u0440 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 (\u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432) \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 HTTP, TCP, json, ping, DNS, Push, Steam \u0441\u0435\u0440\u0432\u0438\u0441\u044b, Docker \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b\\n- \u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438\u043d\u0442\u0443\u0438\u0442\u0438\u0432\u043d\u043e \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0439 web \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\\n- \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 Telegram, Discord, Gotify, Slack, Pushover, \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443 (SMTP) \u0438 \u0442.\u0434.\\n- \u041c\u0443\u043b\u044c\u0442\u0438\u044f\u0437\u044b\u0447\u043d\u044b\u0439\\n- \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u0449\u0435\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0441\u0442\u0430\u0442\u0443\u0441\u0430\u043c\\n- \u0412\u044b\u0432\u043e\u0434 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0432 \u0433\u0440\u0430\u0444\u0438\u043a\u0435\\n- \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430\u0445 SSL \u0438 \u0441\u0440\u043e\u043a\u0430\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f\\n- \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u043e\u043a\u0441\u0438-\u0441\u0435\u0440\u0432\u0435\u0440\u0430\\n- \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 2FA (\u0434\u0432\u0443\u0445\u0444\u0430\u043a\u0442\u043e\u0440\u043d\u043e\u0439 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438)\\n- Open-source\\n\\n\\n[![uptime-kuma](./orig.png)](./orig.png)\\n\\n\\n## \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\\n\\n\u041f\u043b\u0430\u043d\u0438\u0440\u0443\u044e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u043b\u0430\u0447\u043d\u044b\u0439 \u0441\u0435\u0432\u0435\u0440 \u043e\u0442 timeweb, \u043c\u043e\u0436\u043d\u043e \u0432\u0437\u044f\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440 \u0432 \u0420\u0424 \u0438\u043b\u0438 \u0437\u0430\u0433\u0440\u0430\u043d\u0438\u0446\u0435\u0439\\n\\n[![uptime-kuma-server](./timweb-server.png)](./timweb-server.png)\\n\\n\u041f\u043e\u0434\u043e\u0439\u0434\u0443\u0442 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438, \u0434\u043b\u044f \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u044e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435 \u0438 \u0434\u043e\u043c\u0435\u043d\u043d\u043e\u0435 \u0438\u043c\u044f - `monitoring.example.com`\\n\\n- **OS**: Ubuntu 22.02\\n- **CPU**: 1 x 2.8 \u0413\u0413\u0446\\n- **RAM**: 1 Gb\\n- **SSD**: 15 Gb\\n\\n### 1. \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430\\n\\n\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 docker\\n\\n```\\napt update && apt upgrade -y\\napt install -y curl\\ncurl -fsSL https://get.docker.com -o get-docker.sh\\nsudo sh get-docker.sh\\n```\\n\\n\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f DNS \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 `monitoring.example.com` - \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0431\u0435\u043b\u044b\u0439 IP \u043e\u0442 timeweb\\n\\n### 2. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 docker-compose.yaml\\n\\n```YAML\\nversion: \'3.8\'\\nservices:\\n  caddy:\\n    image: caddy:2.7.5\\n    ports:\\n      - 80:80\\n      - 443:443\\n    volumes:\\n      - ./Caddyfile:/etc/caddy/Caddyfile\\n    restart: always\\n  \\n  uptime-kuma:\\n    image: louislam/uptime-kuma:1.23.3-debian\\n    volumes:\\n      - ./uptime-kuma:/app/data\\n    restart: always\\n```\\n\\n\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f SSL \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e Caddy \u0438 \u0441\u043e\u0437\u0434\u0430\u044e \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 **Caddyfile**\\n\\n```bash\\ntouch Caddyfile\\n```\\n\\n\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 **Caddyfile**:\\n```JSON\\nmonitoring.example.com {\\n    reverse_proxy uptime-kuma:3001\\n}\\n```\\n\\n\u0417\u0430\u043f\u0443\u0441\u043a \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430\\n```\\ndocker compose up -d\\n```\\n\\n\\n## \u0417\u0430\u043f\u0443\u0441\u043a \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\\n\\n\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430, \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0432\u0435\u0431 \u043f\u0430\u043d\u0435\u043b\u0438 \u043f\u043e \u0434\u043e\u043c\u0435\u043d\u0443 **monitoring.example.com**. \\n\\nProxy \u0441\u0435\u0440\u0432\u0438\u0441 Caddy \u0441\u0430\u043c \u0441\u0445\u043e\u0434\u0438\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0438 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0430 HTTPS\\n\\n\u041f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u043c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438, \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c\\n\\n\u0412 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445:\\n- \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0437\u043e\u043d\u0443\\n- \u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043d\u0430 \u0442\u0435\u043c\u043d\u0443\u044e \u0442\u0435\u043c\u0443\\n- \u0421\u043c\u0435\u043d\u0438\u0442\u044c \u044f\u0437\u044b\u043a \u043d\u0430 \u0443\u0434\u043e\u0431\u043d\u044b\u0439\\n- \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043b\u044f Telegram \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439\\n\\n\u0414\u0430\u043b\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\\n\\n[![uptime-kuma-server](./main-site.png)](./main-site.png)\\n\\n\u041f\u043e \u0432\u0441\u0435\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430, \u0434\u0435\u043b\u0430\u0442\u044c \u0441\u043a\u0440\u0438\u043d\u044b \u0438 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u0440\u0430\u0441\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u043d\u0435 \u0432\u0438\u0436\u0443 \u0441\u043c\u044b\u0441\u043b\u0430, \u0432\u0441\u0435 \u0438 \u0442\u0430\u043a \u0438\u043d\u0442\u0443\u0438\u0442\u0438\u0432\u043d\u043e \u043f\u043e\u043d\u044f\u0442\u043d\u043e, \u0430 \u0435\u0441\u043b\u0438 \u0432\u0434\u0440\u0443\u0433 \u0445\u043e\u0447\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438 \u043f\u043e\u0442\u044b\u043a\u0430\u0442\u044c\u0441\u044f, \u0442\u043e \u043d\u0430 \u043e\u0444\u0444 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0435\u0441\u0442\u044c [\u0434\u0435\u043c\u043e](https://uptime.kuma.pet/)\\n\\n## \u0418\u0442\u043e\u0433\u0438\\n\\n\u041c\u043d\u0435 \u043e\u0447\u0435\u043d\u044c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u044d\u0442\u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441, \u0438\u0437 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u0442\u043e\u0447\u043d\u043e \u0431\u0443\u0434\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c:\\n- GET \u0437\u0430\u043f\u0440\u043e\u0441 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0441\u0430\u0439\u0442\u0430\\n- ping \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432\\n- \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043e\u0442\u0432\u0435\u0442\u043e\u0432 API \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432\\n- \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u0432 telegram\\n- \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0441\u0440\u043e\u043a\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f ssl \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432\\n\\n\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 (\u043f\u043e\u0434\u043d\u044f\u0442\u044b\u0439 docker + 10 \u0442\u043e\u0447\u0435\u043a \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0442 140Mb RAM \u0438 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 CPU)\\n\\n\u0418\u0437 \u043d\u0435\u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e, \u0447\u0442\u043e \u0432\u043f\u0435\u0447\u0430\u0442\u043b\u0438\u043b\u043e:\\n- \u0415\u0441\u0442\u044c \u0440\u0435\u0432\u0435\u0440\u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 (\u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442, \u0435\u0441\u043b\u0438 \u043c\u043e\u043d\u0438\u0442\u043e\u0440 \u0441\u0442\u0430\u043b \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d, \u0442\u043e \u043a\u0430\u043a \u043e\u0448\u0438\u0431\u043a\u0443 \u0432\u043e\u0441\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c)\\n- Push \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 - \u043a\u043e\u0433\u0434\u0430 \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430 Proxy, NAT \u0438 \u043d\u0435\u0442 \u043a \u043d\u0435\u043c\u0443 \u043f\u0440\u044f\u043c\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430, \u043c\u043e\u0436\u043d\u043e \u0441 \u044d\u0442\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Push \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0430 \u0441\u0435\u0432\u0435\u0440 uptime-kuma, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u0442\u044c\\n- \u0421\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 (Steam \u0438\u0433\u0440\u043e\u0432\u043e\u0439 \u0441\u0435\u0440\u0432\u0435\u0440, PostgreSQL, Redis, Kafka, MongoDB \u0438 \u0442.\u0434.)\\n- \u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u0433\u0434\u0435 \u0432\u044b\u0432\u0435\u0441\u0442\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u044b \u0438 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 (\u0431\u0435\u0437 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438)\\n\\n\u0418\u0437 \u043c\u0438\u043d\u0443\u0441\u043e\u0432 \u044d\u0442\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0442\u043e\u0447\u043a\u0430(\u0443\u0437\u0435\u043b) \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0438 \u0435\u0441\u043b\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430, \u0442\u043e \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0432\u0441\u0442\u0430\u043d\u0435\u0442, \u0442\u0430\u043a \u0436\u0435 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0441 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0443\u0437\u043b\u0430 \u043d\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u043d\u0443\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u0443 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441 \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u0442\u0440\u0430\u043d \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b, \u043e \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c)\\n\\n### \u0411\u043e\u043d\u0443\u0441\\n\\n\u0414\u043b\u044f \u043c\u0438\u043d\u0443\u0441\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043f\u0438\u0441\u0430\u043b \u0432\u044b\u0448\u0435, \u0435\u0441\u0442\u044c \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435, \u044d\u0442\u043e \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 Selectel\\n\\n[![selectel \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433](./selectel.png)](./selectel.png)\\n\\n\u0415\u0441\u043b\u0438 \u0432\u043e\u0439\u0442\u0438 \u0441 \u043f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0434 \u0441\u0432\u043e\u0438\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u043c, \u043c\u043e\u0436\u043d\u043e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0434\u043e 3 \u043c\u0435\u0442\u0440\u0438\u043a\\n    \\n\u0417\u0434\u0435\u0441\u044c \u0442\u0430\u043a \u0436\u0435 \u0438\u043c\u0435\u044e\u0442\u0441\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u043c\u0435\u0442\u0440\u0438\u043a, \u0433\u0438\u0431\u043a\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438, \u043d\u043e \u0441\u0430\u043c\u043e\u0435 \u0433\u043b\u0430\u0432\u043d\u043e\u0435 8 \u0440\u0430\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u043e\u0447\u0435\u043a \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430\\n[![selectel \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433](./selectel_get.png)](./selectel_get.png)\\n\\n- \u0424\u0440\u0430\u043d\u043a\u0444\u0443\u0440\u0442\\n- \u041b\u043e\u043d\u0434\u043e\u043d\\n- \u0410\u043c\u0441\u0442\u0435\u0440\u0434\u0430\u043c\\n- \u041c\u043e\u0441\u043a\u0432\u0430\\n- \u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a\\n- \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\\n- \u041d\u044c\u044e-\u0419\u043e\u0440\u043a\\n- \u0421\u0430\u043d-\u0424\u0440\u0430\u043d\u0446\u0438\u0441\u043a\u043e\\n\\n\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043a\u043e\u043c\u0443 \u0445\u0432\u0430\u0442\u0438\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043c\u0435\u0442\u0440\u0438\u043a \u0438 \u043d\u0435\u0442 \u0436\u0435\u043b\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u043d\u0438\u043c\u0430\u0442\u044c \u0438 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u043e\u0431\u043b\u0430\u0447\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440, \u0434\u0430\u043d\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043f\u043e\u043a\u0430\u0436\u0435\u0442\u0441\u044f \u0434\u0430\u0436\u0435 \u0443\u0434\u043e\u0431\u043d\u0435\u0435."},{"id":"wildcard-ssl-cert","metadata":{"permalink":"/blog/wildcard-ssl-cert","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/wildcard-ssl-cert/index.md","source":"@site/blog/wildcard-ssl-cert/index.md","title":"Auto wildcard cert service","description":"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c wildcard ssl \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0434\u043b\u044f \u0441\u0432\u043e\u0435\u0433\u043e \u0434\u043e\u043c\u0435\u043d\u0430 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c Cloudflare \u0438 acme.sh","date":"2023-09-23T10:00:00.000Z","formattedDate":"23 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2023 \u0433.","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"homelab","permalink":"/blog/tags/homelab"},{"label":"ssl","permalink":"/blog/tags/ssl"}],"readingTime":3.56,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"wildcard-ssl-cert","title":"Auto wildcard cert service","description":"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c wildcard ssl \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0434\u043b\u044f \u0441\u0432\u043e\u0435\u0433\u043e \u0434\u043e\u043c\u0435\u043d\u0430 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c Cloudflare \u0438 acme.sh","image":"./wildcard-logo.png","tags":["docker","homelab","ssl"],"keywords":["wildcard","ssl","cloudflare","cert","wildcard","linux","docker","acme"],"date":"2023-09-23T10:00"},"prevItem":{"title":"Uptime-kuma self-hosted monitoring","permalink":"/blog/uptime-kuma"},"nextItem":{"title":"Monitoring web hosts","permalink":"/blog/monitoring-web-hosts"}},"content":"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c wildcard SSL \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0434\u043b\u044f \u0441\u0432\u043e\u0435\u0433\u043e \u0434\u043e\u043c\u0435\u043d\u0430 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c Cloudflare \u0438 acme.sh\\n\\n\\n[![wildcard ssl cert](./wildcard-logo.png)](/blog/wildcard-ssl-cert)\\n\\n\\n\x3c!--truncate--\x3e\\n## Wildcard \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\\n\\n\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u0438\u0437\u0443\u0447\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 OpenSource \u043f\u0440\u043e\u0435\u043a\u0442\u044b, \u0438 \u0441\u0435\u0439\u0447\u0430\u0441 \u0434\u043b\u044f \u043c\u043d\u043e\u0433\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e \u0443 \u0441\u0435\u0431\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445 \u0442\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f \u0434\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b SSL\\n\\n\u0418\u043c\u0435\u0435\u0442\u0441\u044f \u0441\u0432\u043e\u0439 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u043c\u0435\u043d `akmalov.com` \u0438 \u043f\u043e\u0434\u0434\u043c\u0435\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f `*.akmalov.com` \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0432 \u043b\u044e\u0431\u043e\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u0438 \u043d\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\\n\\n\u0420\u0430\u043d\u044c\u0448\u0435 \u043f\u0440\u043e\u0431\u043e\u0432\u0430\u043b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0446\u0435\u043d\u0442\u0440 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438, \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u043b \u0432 \u0434\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0445, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b \u0441\u0430\u043c\u043f\u043e\u043f\u043e\u0434\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b (\u043e\u0447\u0435\u043d\u044c \u043d\u0435\u0443\u0434\u043e\u0431\u043d\u043e, \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0434\u043b\u044f \u043f\u0435\u0441\u043e\u0447\u043d\u0438\u0446\u044b). \\n\u0414\u0430\u043b\u0435\u0435 \u0440\u0435\u0448\u0438\u043b \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0438 \u0434\u043b\u044f \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u0434\u0434\u043e\u043c\u0435\u043d\u043e\u0432 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u043b \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e **Let\'s Encrypt** \u0438 \u043a\u043e\u0433\u0434\u0430 \u043f\u043e\u0434\u0434\u043e\u043c\u0435\u043d\u043e\u0432 \u043d\u0430\u0431\u0440\u0430\u043b\u043e\u0441\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u0435\u0441\u044f\u0442\u043a\u0430 \u0440\u0435\u0448\u0438\u043b \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c **wildcard** \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043f\u043e\u0434\u0434\u043e\u043c\u0435\u043d\u043e\u0432.\\n\\n> \u041e\u0434\u0438\u043d \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043f\u043e\u0434\u0434\u043e\u043c\u0435\u043d\u043e\u0432\\n\\n[![wildcard](./wildcard.jpg)](./wildcard.jpg)\\n\\n\\n## ACME Shell script\\n\\n\u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e \u043a\u0430\u043a \u043f\u0435\u0440\u0435\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u043b \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432, \u0434\u043b\u044f \u043c\u0435\u043d\u044f \u0441\u0430\u043c\u044b\u043c \u0443\u0434\u043e\u0431\u043d\u044b\u043c \u043f\u043e\u043a\u0430\u0437\u0430\u043b\u0441\u044f **acme.sh**\\n\\n\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043e\u0444\u0444 [Github](https://github.com/acmesh-official/acme.sh)\\n\\n- Unix shell \u0441\u043a\u0440\u0438\u043f\u0442 \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\\n- \u041d\u0435 \u043d\u0443\u0436\u043d\u044b root \u043f\u0440\u0430\u0432\u0430\\n- \u0415\u0441\u0442\u044c docker \u043e\u0431\u0440\u0430\u0437\\n- \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 IPv6\\n- \u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432 cron-job \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432\\n- \u041f\u0440\u043e\u0441\u0442\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\\n- \u0423\u043c\u0435\u0435\u0442 \u043f\u043e API \u043e\u0431\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u043a Cloudflare\\n\\n\\n## Cloudflare\\n\\n\u0414\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438 DNS \u0437\u0430\u043f\u0438\u0441\u044f\u043c\u0438 \u0434\u043e\u043c\u0435\u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e Cloudflare, \u0438\u0437 \u0437\u0430 \u0435\u0433\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e API, \u0434\u043b\u044f \u043c\u043d\u043e\u0433\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 \u0435\u0441\u0442\u044c \u043e\u0447\u0435\u043d\u044c \u0443\u0434\u043e\u0431\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438. \u041e\u0434\u043d\u0430 \u0438\u0437 \u043f\u0440\u0438\u0447\u0438\u043d \u0432\u044b\u0431\u043e\u0440\u0430 acme.sh \u044d\u0442\u043e \u043a\u0430\u043a \u0440\u0430\u0437, \u0442\u043e \u0447\u0442\u043e \u043e\u043d \u0434\u0440\u0443\u0436\u0438\u0442 Cloudflare.\\n\\n:::note\\n\u0415\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u0440\u0443\u0433\u043e\u0439 DNS \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440, \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0443\u0447\u043d\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438, \u0433\u0434\u0435 \u043f\u0440\u0438\u0434\u0435\u0442\u0441\u044f \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c `TXT` \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0430\u0434\u043c\u0438\u043d\u043a\u0435 \u0434\u043e\u043c\u0435\u043d\u0430\\n:::\\n\\n\u041f\u043e\u0448\u0430\u0433\u043e\u0432\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 API \u0442\u043e\u043a\u0435\u043d\u0430 \u0432 Cloudflare:\\n- \u0412\u043e\u0439\u0442\u0438 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 [Cloudflare](https://dash.cloudflare.com)\\n- \u041d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u0438\u043a\u043e\u043d\u043a\u0443 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u0439 \u0447\u0430\u0441\u0442\u0438 \u044d\u043a\u0440\u0430\u043d\u0430 \u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c **My Profile** \u0432 \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0435\u043c \u043c\u0435\u043d\u044e.\\n- \u0414\u0430\u043b\u0435\u0435 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 **API Tokens** \u043d\u0430 \u043b\u0435\u0432\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u043c\u0435\u043d\u044e.\\n- \u041d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 **Create Token** \u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u0439 \u0447\u0430\u0441\u0442\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.\\n- \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u0442\u043e\u043a\u0435\u043d\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0443\u0436\u0435\u043d, \u0437\u0430\u0434\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0438 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u0434\u043b\u044f \u0442\u043e\u043a\u0435\u043d\u0430. \\n- \u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u043e\u043a\u0435\u043d\u0430 \u043d\u0443\u0436\u043d\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c  **API Token** \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0435\u0433\u043e (\u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 \u0435\u0433\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f, \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u0442\u044c)\\n\\n:::danger \u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u043e\\n\u0422\u043e\u043a\u0435\u043d \u043d\u0435\u043b\u044c\u0437\u044f \u0441\u0432\u0435\u0442\u0438\u0442\u044c \u0433\u0434\u0435 \u043f\u043e\u043f\u0430\u043b\u043e\\n:::\\n\\n[![Cloudflare](./cloudflare-api.png)](./cloudflare-api.png)\\n\\n## Docker acme.sh\\n\\n\u041a\u0430\u043a \u043e\u0434\u0438\u043d \u0438\u0437 \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u043f\u043e\u043a\u043b\u043e\u043d\u043d\u0438\u043a\u043e\u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432, \u043d\u0435 \u0444\u0430\u043d\u0430\u0442 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0447\u0442\u043e-\u043b\u0438\u0431\u043e \u043d\u0430 \u0445\u043e\u0441\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432. \\n\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0442\u0430\u043a\u043e\u0433\u043e \u0436\u0435 \u043c\u043d\u0435\u043d\u0438\u044f \ud83d\udc95\\n\\n\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 Github - [**Run acme.sh in docker**](https://github.com/acmesh-official/acme.sh/wiki/Run-acme.sh-in-docker)\\n\\n\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437 [**Dockerhub**](https://hub.docker.com/r/neilpang/acme.sh)\\n\\n\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u0438\u043b\u0438 tag `latest`, \u043f\u0440\u0438\u0432\u044b\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e:\\n```bash\\ndocker pull neilpang/acme.sh:3.0.6 \\n```\\n\\n\u0414\u043b\u044f \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u0441 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0431\u0443\u0434\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c `.env` \u0444\u0430\u0439\u043b, \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f:\\n```\\nEMAIL=artur@example.com\\nURL=example.com\\nWILDCARD_URL=*.example.com\\n\\nCF_Token=Your cloudflare API TOKEN\\n```\\n\\n\u0412 \u043d\u0430\u0447\u0430\u043b\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 ACME \u043f\u043e **email**, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0430.\\n\\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0444\u0430\u0439\u043b, \u043d\u0443\u0436\u0435\u043d \u0431\u0443\u0434\u0435\u0442 \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0438 \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043d\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430.\\n\\n\u041a\u043e\u043c\u0430\u043d\u0434\u0430 `-v \\"./acme_data\\":/acme.sh` \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u043d\u0430 \u0445\u043e\u0441\u0442\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u0432 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0431\u0443\u0434\u0443\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0438 \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u0434\u0430\u0436\u0435 \u043a\u043e\u0433\u0434\u0430 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0438 \u0437\u0430\u043a\u0440\u043e\u0435\u0442\u0441\u044f.\\n```bash\\ndocker run --rm --env-file .env -v \\"./acme_data\\":/acme.sh neilpang/acme.sh:3.0.6 --register-account -m $EMAIL\\n```\\n\u0412 \u043b\u043e\u0433\u0430\u0445 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430\\n\\n``` \\n> Create account key ok.\\n> Registered\\n> ACCOUNT_THUMBPRINT=\'ACCOUNT KEY\'\\n```\\n\\n\u0417\u0430\u043f\u0440\u043e\u0441 **wildcard** \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430\\n```bash\\ndocker run --rm --env-file .env -v \\"./acme_data\\":/acme.sh neilpang/acme.sh:3.0.6 --issue -d $URL -d $WILDCARD_URL  --dns dns_cf\\n```\\n\\n\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e 3-7 \u043c\u0438\u043d\u0443\u0442\\n\\n\u0412 \u043b\u043e\u0433\u0430\u0445 \u043f\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0430:\\n``` \\n> Multi domain=\'DNS:example.com,DNS:*.example.com\'\\n> Getting domain auth token for each domain\\n> Getting webroot for domain=\'example.com\'\\n> Getting webroot for domain=\'*.example.com\'\\n> Adding record\\n> Added, OK\\n> The txt record is added: Success.\\n> Let\'s check each DNS record now. Sleep 20 seconds first.\\n> Checking example.com for _acme-challenge.example.com\\n> Domain example.com \'_acme-challenge.example.com\' success.\\n> All success, let\'s return\\n> Verifying: example.com\\n> Processing, The CA is processing your order, please just wait. (1/30)\\n> Success\\n> Removing DNS records.\\n> Removed: Success\\n> Downloading cert.\\n> Cert success.\\n```\\n\\n\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0438 \u0433\u043e\u0442\u043e\u0432 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f (\u0441\u0440\u043e\u043a 3 \u043c\u0435\u0441\u044f\u0446\u0430), \u0432\u0441\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 `./acme_data`\\n```bash\\nls -la acme_data/example.com_ecc\\n```\\n\\n```output\\n-rw-r--r-- 1456 Sep 24 18:33 example.com.cer\\n-rw-r--r--  566 Sep 24 18:33 example.com.conf\\n-rw-r--r--  477 Sep 24 18:29 example.com.csr\\n-rw-r--r--  202 Sep 24 18:29 example.com.csr.conf\\n-rw-------  227 Sep 24 18:28 example.com.key\\n-rw-r--r-- 2668 Sep 24 18:33 ca.cer\\n-rw-r--r-- 4124 Sep 24 18:33 fullchain.cer\\n```\\n\\n\u041c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439:\\n```bash\\nopenssl x509 -in acme_data/example.com_ecc/example.com.cer -text -noout\\n```\\n\\n\u0438\u043b\u0438 \u043e\u043d\u043b\u0430\u0439\u043d \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c [Certificate Decoder](https://www.sslshopper.com/certificate-decoder.html)\\n\\n\u0414\u0430\u043b\u044c\u0448\u0435 \u0442\u043e\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0441\u043e\u0437\u0434\u0430\u0432 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043a\u0443\u0434\u0430 \u043d\u0443\u0436\u043d\u043e."},{"id":"monitoring-web-hosts","metadata":{"permalink":"/blog/monitoring-web-hosts","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/monitoring-web-hosts/index.md","source":"@site/blog/monitoring-web-hosts/index.md","title":"Monitoring web hosts","description":"monitoring web ssl certificate expried uptime kuma grafana prometheus docker","date":"2023-07-13T10:42:00.000Z","formattedDate":"13 \u0438\u044e\u043b\u044f 2023 \u0433.","tags":[{"label":"monitoring","permalink":"/blog/tags/monitoring"},{"label":"ssl","permalink":"/blog/tags/ssl"},{"label":"docker","permalink":"/blog/tags/docker"}],"readingTime":2.26,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"monitoring-web-hosts","title":"Monitoring web hosts","description":"monitoring web ssl certificate expried uptime kuma grafana prometheus docker","image":"./monitoring-web-hosts-logo.png","tags":["monitoring","ssl","docker"],"keywords":["monitoring","grafana","ssl","telegram","prometheus","docker"],"date":"2023-07-13T10:42"},"prevItem":{"title":"Auto wildcard cert service","permalink":"/blog/wildcard-ssl-cert"},"nextItem":{"title":"Docusaurus \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438","permalink":"/blog/docusaurus-comments"}},"content":"self-hosted \u0441\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0445\u043e\u0441\u0442\u043e\u0432, \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f SSL \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u0441 \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f\u043c\u0438 \u0432 telegram\\n\\n\\n\\n[![Monitoring web hosts](./monitoring-web-hosts-logo.png)](/blog/monitoring-web-hosts)\\n\\n\\n\x3c!--truncate--\x3e\\n## Uptime-kuma\\n\\n\u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u0435\u043d \u0441\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0445\u043e\u0441\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u043d\u044f\u0442\u044c \u0443 \u0441\u0435\u0431\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u043e\u0449\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c `Uptime-Kuma`\\n\\n[Uptime-Kuma](https://github.com/louislam/uptime-kuma)\\n\\n![Uptime-Kuma](./uptime-kuma.jpg)\\n\\n\u0413\u043b\u0430\u0432\u043d\u044b\u0435 \u0444\u0438\u0448\u043a\u0438:\\n* \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 HTTP(s) / TCP / HTTP(s) Keyword / HTTP(s) Json Query / Ping / DNS \\n* \u041b\u0435\u043a\u0433\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432 docker-compose\\n* \u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0438 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0439 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \\n* \u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u0432 Telegram, Discord, Slack, Email (SMTP) \u0438 \u0442.\u0434. \\n* \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0435 (SSL Certificate info)\\n* \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 Proxy \u0438 2FA\\n\\n\\n\u041f\u0440\u0438 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c\u044e, Uptime-Kuma \u0431\u044b\u0441\u0442\u0440\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0442\u0430\u043a\u0438\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b, \u043a\u0430\u043a Telegram, Discord \u0438 Slack. \\n\\n\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0433\u0440\u0430\u0444\u0438\u043a\u0438 \u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u0447\u0438\u043d \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c\u044e, \u043f\u043e\u043c\u043e\u0433\u0430\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0441\u0432\u043e\u0435\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0443\u043b\u0443\u0447\u0448\u0430\u0442\u044c \u0441\u0432\u043e\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u044b. \\n\\n\u0412 \u0446\u0435\u043b\u043e\u043c, Uptime-Kuma - \u044d\u0442\u043e \u043d\u0435\u0437\u0430\u043c\u0435\u043d\u0438\u043c\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0442\u0435\u0445, \u043a\u0442\u043e \u0445\u043e\u0447\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u043c \u0432 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0435 \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0441\u0432\u043e\u0438\u0445 \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432.\\n\\n\\n## \u0421\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430\\n\\n\u0415\u0441\u043b\u0438 \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0442\u044d\u043a \u0434\u043b\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 Promeheus + Grafana \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0432\u0430\u0442\u044c\u0441\u044f blackbox exporter \u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0443\u0434\u043e\u0431\u043d\u044b\u0439 Dashboard \u0434\u043b\u044f \u0441\u0435\u0431\u044f. \u041e\u0431 \u044d\u0442\u043e\u043c \u0441\u0435\u0439\u0447\u0430\u0441 \u0438 \u0431\u0443\u0434\u0443 \u043f\u0438\u0441\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435\\n\\n**\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0445\u043e\u0441\u0442\u043e\u0432 \u0438 \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044f \u0441\u0440\u043e\u043a\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f SSL-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430**\\n\\n[![Grafana ssl certificate expires](./grafana-ssl-certificate-expires.png)](./grafana-ssl-certificate-expires.png)\\n\\n\\n\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b:\\n- Prometheus (\u0441\u0431\u043e\u0440 \u0438 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445)\\n- Grafana (\u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445)\\n- Blackbox (\u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 http)\\n- Alertmanager (\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f)\\n\\n### \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \\n\\n\u0421\u0430\u043c \u043f\u0440\u043e\u0435\u043a\u0442 \u043d\u0430 [Github monitoring hosts](https://github.com/akmalovaa/monitoring-hosts-cert/tree/main)\\n\\n\\n\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f docker-compose \ud83d\udc33\\n\\n```bash\\ngit clone https://github.com/akmalovaa/monitoring-hosts-cert.git\\ncd monitoring-hosts-cert\\n```\\n\\n- \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0435 \u0445\u043e\u0441\u0442\u044b `/prometheus/prometheus.yml`\\n\\n- \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c `/alertmanager/config.yml`\\n\\n- \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u0434\u043b\u044f \u0433\u0440\u0430\u0444\u0430\u043d\u044b:\\n``` bash\\nchmod -R 777 data/grafana/\\n```\\n\\n\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u044b\\n```bash\\ndocker-compose up -d\\n```\\n\\n\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u044b\\n```bash\\ndocker-compose ps\\n```\\n\\nTelegram \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f:\\n![telegram alertmanager](./telegram-alertmanager.png)\\n\\n---\\n\\n### \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b\\n\\n* Grafana labs - [Dashboard](https://grafana.com/grafana/dashboards/13230-certificate-monitor/)\\n\\n* Grafana blog - [Post SSL alerting](https://grafana.com/blog/2020/11/25/how-we-eliminated-service-outages-from-certificate-expired-by-setting-up-alerts-with-grafana-and-prometheus/)\\n\\n* Github Prometheus, Grafana, blackbox, alertmanager + caddy - [docker-compose example](https://github.com/stefanprodan/dockprom/tree/master)\\n  \\n#### \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Alertmanager telegram\\n\\n##### Bot token\\n\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0431\u043e\u0442\u0430 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043a\u043b\u044e\u0447 API \u0431\u043e\u0442\u0430 \u0432 \u043a\u0430\u043d\u0430\u043b\u0435 [BotFather](https://t.me/BotFather)\\n\\n##### \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c Chat ID telegram\\n\\n\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0430\u0440\u0443 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0431\u043e\u0442\u0443, \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\\n\\n```bash\\ncurl https://api.telegram.org/bot<TOKEN>/getUpdates | jq\\n```\\n\\n#### docker-compose\\n``` \\nversion: \\"3.7\\"\\nservices:\\n  prometheus:\\n    container_name: prometheus\\n    image: prom/prometheus:v2.46.0\\n    command:\\n      - \'--config.file=/etc/prometheus/prometheus.yml\'\\n      - \'--storage.tsdb.path=/prometheus\'\\n      - \'--web.console.libraries=/etc/prometheus/console_libraries\'\\n      - \'--web.console.templates=/etc/prometheus/consoles\'\\n      - \'--storage.tsdb.retention.time=30d\'\\n      - \'--web.enable-lifecycle\'\\n    user: root\\n    ports:\\n    - 9090:9090\\n    volumes:\\n    - ./prometheus:/etc/prometheus/\\n    - ./data/prometheus:/prometheus/\\n    restart: unless-stopped\\n    environment:\\n     - TZ=\\"Asia/Yekaterinburg\\"\\n\\n  blackbox:\\n    container_name: blackbox\\n    image: prom/blackbox-exporter:v0.24.0\\n    command:\\n      - \'--config.file=/config/blackbox.yml\'\\n    ports:\\n      - 9115:9115\\n    restart: unless-stopped\\n    volumes:\\n      - ./blackbox:/config\\n  \\n  alertmanager:\\n    container_name: alertmanager\\n    image: prom/alertmanager:v0.25.0\\n    command:\\n      - \'--config.file=/etc/alertmanager/config.yml\'\\n      - \'--storage.path=/alertmanager\'\\n    ports:\\n      - 9093:9093\\n    volumes:\\n      - ./alertmanager:/etc/alertmanager/\\n    restart: unless-stopped\\n\\n  grafana:\\n    container_name: grafana\\n    image: grafana/grafana:10.0.3-ubuntu\\n    depends_on:\\n      - prometheus\\n    ports:\\n      - 3000:3000\\n    volumes:\\n      - ./data/grafana:/var/lib/grafana\\n      - ./grafana/dashboards:/etc/grafana/provisioning/dashboards\\n      - ./grafana/datasources:/etc/grafana/provisioning/datasources\\n    restart: unless-stopped\\n    environment:\\n      - GF_SECURITY_ADMIN_USER=${ADMIN_USER:-admin}\\n      - GF_SECURITY_ADMIN_PASSWORD=${ADMIN_PASSWORD:-admin}\\n      - GF_USERS_ALLOW_SIGN_UP=false\\n      - TZ=\\"Asia/Yekaterinburg\\"\\n```"},{"id":"docusaurus-comments","metadata":{"permalink":"/blog/docusaurus-comments","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/docusaurus-comments/index.md","source":"@site/blog/docusaurus-comments/index.md","title":"Docusaurus \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438","description":"Add commenst docusaurus, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u0432 docusaurus \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c Giscus","date":"2023-06-17T00:00:00.000Z","formattedDate":"17 \u0438\u044e\u043d\u044f 2023 \u0433.","tags":[{"label":"docusaurus","permalink":"/blog/tags/docusaurus"},{"label":"github","permalink":"/blog/tags/github"}],"readingTime":1.985,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"docusaurus-comments","title":"Docusaurus \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438","description":"Add commenst docusaurus, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u0432 docusaurus \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c Giscus","image":"./docusaurus-comments.png","tags":["docusaurus","github"],"keywords":["docusaurus","comments","github","blog"],"date":"2023-06-17T00:00:00.000Z"},"prevItem":{"title":"Monitoring web hosts","permalink":"/blog/monitoring-web-hosts"},"nextItem":{"title":"Gitlab auto add reviewers","permalink":"/blog/gitlab-auto-reviewers"}},"content":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438, \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f \u0432 \u0437\u0430\u043f\u0438\u0441\u044f\u0445 \u0431\u043b\u043e\u0433\u0430 docusaurus\\n\\n[![docusaurus comments](./docusaurus-comments.png)](/blog/docusaurus-comments)\\n\\n\x3c!--truncate--\x3e\\n## \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u0438 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0431\u043b\u043e\u0433\u0430\\n\\n\u041d\u0430 \u043c\u043e\u0439 \u0432\u0437\u0433\u043b\u044f\u0434 \u044d\u0442\u043e \u043e\u0447\u0435\u043d\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0430\u044f \u0448\u0442\u0443\u043a\u0430. \\n\\n- \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u0434\u0430\u044e\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0441\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u0438 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0432\u043e\u0438\u043c \u043c\u043d\u0435\u043d\u0438\u0435\u043c, \u0437\u0430\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0438\u043b\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0442\u0435\u043c\u0443 \u0441\u0442\u0430\u0442\u044c\u0438.\\n- \u0414\u043b\u044f \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f \u0438\u0434\u0435\u0439 \u0438 \u043e\u0431\u043c\u0435\u043d\u0430 \u0437\u043d\u0430\u043d\u0438\u044f\u043c\u0438, \u043c\u043e\u0433\u0443\u0442 \u0441\u0442\u0438\u043c\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0441\u043a\u0443\u0441\u0441\u0438\u0438 \u0438 \u043f\u043e\u043c\u043e\u0447\u044c \u0443\u0437\u043d\u0430\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u043d\u043e\u0432\u043e\u0435.\\n\\n\u0418\u0441\u043a\u0430\u043b \u0440\u0430\u0437\u043d\u044b\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0438 \u0432 \u0438\u0442\u043e\u0433\u0435 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0441\u044f \u043d\u0430 **Giscus**\\n\\n\u042d\u0442\u043e opensource \u043f\u0440\u043e\u0435\u043a\u0442 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 Discussions Github\\n\\n\u041e\u0444\u0444.\u0441\u0430\u0439\u0442 - [https://giscus.app/ru](https://giscus.app/ru)\\n\\n\\n## \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 Github\\n\\n### \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f\\n\\n\u041d\u0443\u0436\u043d\u043e \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c Discussion \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f\\n\\n![Discussion](./discussions-enable.png)\\n\\n\u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0434\u043b\u044f \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u0443\u0434\u0430\u043b\u0438\u043b \u043b\u0438\u0448\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438, \u043e\u0441\u0442\u0430\u0432\u0438\u043b \u0442\u043e\u043b\u044c\u043a\u043e Generals\\n\\n### \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Giscus App \\n\\n\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u043b\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f Giscus GitHub App\\n\\n[https://github.com/apps/giscus](https://github.com/apps/giscus)\\n\\n\\n## \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 Giscus\\n\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0430\u043a\u0435\u0442\u0430\\n```\\nnpm add @giscus/react\\n```\\n\\n\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430\\n```\\nnpm run swizzle @docusaurus/theme-classic BlogPostItem -- --wrap\\n```\\n\\n\u0414\u0430\u043d\u043d\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u0441\u0442 \u0444\u0430\u0439\u043b \u043f\u043e \u043f\u0443\u0442\u0438 `src/theme/BlogPostItem/index.js`\\n\\n\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0432 **BlogPostItem.tsx** \u0438 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u0443\u0440\u043e\u0432\u043d\u0435\u043c \u0432\u044b\u0448\u0435 \u0432 \u0438\u0442\u043e\u0433\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f `src/theme/BlogPostItem.tsx`\\n\\n\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 \\n```tsx\\nimport React from \'react\';\\nimport BlogPostItem from \'@theme-original/BlogPostItem\';\\nimport { useBlogPost } from \\"@docusaurus/theme-common/internal\\";\\nimport Giscus from \\"@giscus/react\\";\\n\\nexport default function BlogPostItemWrapper(props) {\\n  const { isBlogPostPage } = useBlogPost();\\n  if (!isBlogPostPage) {\\n    return <BlogPostItem {...props} />;\\n  }\\n  return (\\n    <>\\n      <BlogPostItem {...props} />\\n      {(\\n        <div className=\\"docusaurus-blog-comments\\">\\n          <Giscus\\n            repo=\\"akmalovaa/akmalov.com\\"\\n            repoId=\\"R_kgDOI0gPCg\\"\\n            category=\\"General\\"\\n            categoryId=\\"DIC_kwDOI0gPCs4CXR_A\\"\\n            mapping=\\"pathname\\"\\n            reactionsEnabled=\\"1\\"\\n            emitMetadata=\\"0\\"\\n            inputPosition=\\"bottom\\"\\n            theme=\\"dark\\"\\n            lang={\'ru\'}\\n            loading=\\"lazy\\"\\n          />\\n        </div>\\n      )}\\n    </>\\n  );\\n}\\n```\\n\\n:::tip\\n\u041c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043b\u0443\u0447\u0448\u0435 \u0438 \u043a\u0443\u0441\u043e\u043a \u0441 Giscus \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0432 `src/components` \u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 dotenv \u0444\u0430\u0439\u043b \u043f\u043e\u0442\u0434\u044f\u0433\u0438\u0432\u0430\u0442\u044c\\n:::\\n\\n\u041f\u043e\u043a\u0430 \u0431\u0443\u0434\u0443 \u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u043e \u0438 \u0442\u043e\u043f\u043e\u0440\u043d\u043e, \u0442.\u043a. github Discussion \u0441\u0435\u0439\u0447\u0430\u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u043e \u0440\u0430\u0437\u0432\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 API - \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u0431\u044b\u0441\u0442\u0440\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c.\\n\\n\\n\u041f\u0440\u043e\u0439\u0434\u0435\u043c\u0441\u044f \u043f\u043e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c:\\n- `repo` \u0442\u0443\u0442 \u0432\u0441\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u043e \u0430\u0432\u0442\u043e\u0440 \u0438 \u0440\u0435\u043f\u043e\\n- `repoId` \u043d\u0443\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0442\u0430\u0449\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 API\\n- `category` \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0432 Discussion\\n- `categoryId` \u043d\u0443\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0442\u0430\u0449\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 API\\n\\n\u0423\u0434\u043e\u0431\u043d\u0435\u0435 \u0432\u0441\u0435\u0433\u043e ID \u0432\u044b\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0442\u044c \u0447\u0435\u0440\u0435\u0437 GraphQL \u0437\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0442\u044c.\\n\u0415\u0441\u043b\u0438 \u0443\u0436\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 Github CLI \u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443:\\n\\n```bash\\ngh api graphql -f query=\'{ \\n  repository(owner: \\"akmalovaa\\", name:\\"akmalov.com\\"){\\n    id\\n    discussionCategories(first:10) {\\n      edges {\\n        node {\\n          id\\n          name\\n        }\\n      }\\n    }\\n  }\\n}\\n\'\\n```\\n\\n\u041d\u0443\u0436\u043d\u043e \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0438 **owner** \u0438 repo **name**. \u0412 \u043e\u0442\u0432\u0435\u0442 \u043f\u0440\u0438\u0434\u0435\u0442 json \u0441 ID \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f \u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439.\\n\\n\u041c\u043e\u0436\u043d\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0447\u0435\u0440\u0435\u0437 Github API \u044d\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u044b\u0442\u0430\u0449\u0438\u0442\u044c, \u043d\u043e \u0441\u043f\u043e\u0441\u043e\u0431 \u0432\u044b\u0448\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u043b\u0441\u044f \u043f\u0440\u043e\u0449\u0435.\\n\\n## \u0418\u0442\u043e\u0433\u043e\\n\\n\u0412\u0440\u043e\u0434\u0435 \u0431\u0435\u0437 \u043e\u0441\u043e\u0431\u044b\u0445 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u0432 \u0441\u0432\u043e\u0435\u043c \u0431\u043b\u043e\u0433\u0435 \u0441 docusaurus.\\n\\n\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b (\u0430\u043d\u0430\u043b\u043e\u0433\u0438 giscus) \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0434\u043b\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u043e\u0432 `github issue`, \u043d\u043e \u043c\u043d\u0435 \u043a\u0430\u0436\u0435\u0442\u0441\u044f `github discussions` \u043b\u0443\u0447\u0448\u0435 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0438 \u043f\u043e \u043b\u043e\u0433\u0438\u043a\u0435 \u0438 \u043f\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0443."},{"id":"gitlab-auto-reviewers","metadata":{"permalink":"/blog/gitlab-auto-reviewers","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/gitlab-auto-reviewers/index.md","source":"@site/blog/gitlab-auto-reviewers/index.md","title":"Gitlab auto add reviewers","description":"Gitlab auto assign reviewer for merge request","date":"2023-05-30T00:00:00.000Z","formattedDate":"30 \u043c\u0430\u044f 2023 \u0433.","tags":[{"label":"gitlab","permalink":"/blog/tags/gitlab"},{"label":"devops","permalink":"/blog/tags/devops"},{"label":"bash","permalink":"/blog/tags/bash"},{"label":"python","permalink":"/blog/tags/python"}],"readingTime":2.545,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"gitlab-auto-reviewers","title":"Gitlab auto add reviewers","description":"Gitlab auto assign reviewer for merge request","image":"./gitlab-reviewers.png","tags":["gitlab","devops","bash","python"],"date":"2023-05-30T00:00:00.000Z"},"prevItem":{"title":"Docusaurus \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438","permalink":"/blog/docusaurus-comments"},"nextItem":{"title":"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430","permalink":"/blog/monitoring-pc-club"}},"content":"Gitlab auto assign reviewer \u2014 \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 assignee \u0438 reviewers \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 mergre request\\n\\n[![nginx logo](./gitlab-reviewers.png)](/blog/gitlab-auto-reviewers)\\n\\n\x3c!--truncate--\x3e\\n## Gitlab auto add reviewers\\n\\n**\u0426\u0435\u043b\u044c**: \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 Merge Request \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0443\u0434\u043e\u0431\u043d\u043e\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u0432\u044c\u044e\u0432\u0435\u0440\u043e\u0432\\n\\n\\n![mr reviewers](./mr.png \\"mr reviewers\\")\\n\\n\\n## 1. Reviewer templates\\n\\n\u041f\u0435\u0440\u0432\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0432 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0440\u0435\u0432\u044c\u044e\u0432\u0435\u0440\u043e\u0432 - \u044d\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 templates. \u0412\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u0430\u044f \u0444\u0438\u0447\u0430 Gitlab, \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0432\u0435\u0440\u0441\u0438\u0439.\\n\\n\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f - [Description templates](https://docs.gitlab.com/ee/user/project/description_templates.html)\\n\\n### \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430\\n\u041d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e ```.gitlab/merge_request_templates```\\n\\n\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0438 \u043b\u044e\u0431\u043e\u0439 \u0444\u0430\u0439\u043b \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f ```.md```\\n\\n\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 ```top_reviewers.md```\\n\\n\u0421 \u0442\u0430\u043a\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435\u043c, \u0433\u0434\u0435 \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c username \u0440\u0435\u0432\u044c\u044e\u0432\u0435\u0440\u043e\u0432:\\n```\\n/assign_reviewer @user1 @user2\\n```\\n\\n![gitlab template](./gitlab-template.png \\"gitlab template\\")\\n\\n\\n### \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\\n\\n\u041f\u043e\u0441\u043b\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0430\u043a\u043e\u0433\u043e template, \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 MR \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435, \u0433\u0434\u0435 \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b\\n\\n![gitlab template](./gitlab-mr-template.png \\"gitlab template\\")\\n\\n\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431, \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0435\u0441\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f \u0440\u0435\u0432\u0431\u044e\u0432\u0435\u0440\u043e\u0432, \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0447\u0430\u0441\u0442\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u0445.\\n\\n## 2. Bash gitlab API\\n\\n\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 - \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0432 ```.gitlab-ci.yml``` CI/CD, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u0447\u0435\u0440\u0435\u0437 API \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0440\u0435\u0432\u044c\u044e\u0432\u0435\u0440\u043e\u0432\\n\\n### \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430\\n\\n\u0414\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f merge request \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f(\u0442\u0440\u0438\u0433\u0433\u0435\u0440\u044b):\\n\\n- Gitlab CI workflow event\\n- Schedules\\n- \u041f\u0440\u043e\u0447\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f\\n\\n\u042f \u0431\u0443\u0434\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c `workflow \u2014 merge request event`, \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u043b \u0432 **workflow** \u0442\u0440\u0438\u0433\u0433\u0435\u0440 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 MR:\\n```YAML\\nworkflow:\\n  rules:\\n    - if: $CI_PIPELINE_SOURCE == \\"merge_request_event\\"\\n```\\n\\n\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 **Settings -> CI/CD -> Variables**\\n- `$TOKEN` - Gitlab API Token \\n\\n\u0412 gitlab runner \u0433\u0434\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f pipeline \u043d\u0443\u0436\u0435\u043d jq\\n\u0417\u0430\u0440\u0430\u043d\u0435\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b\u0439 \u0438\u043b\u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0441\u043a\u0440\u0438\u043f\u0442\u0430:\\n```YAML\\nbefore_script:\\n  - apt-get install jq -y\\n```\\n\\n\\n### \u0421\u043a\u0440\u0438\u043f\u0442\\n\\n\u041f\u043e\u0448\u0430\u0433\u043e\u0432\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 \u0441\u043a\u0440\u0438\u043f\u0442\u0430:\\n\\n- \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 merge request ID\\n- \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c ID \u0430\u0432\u0442\u043e\u0440\u0430 merge request\\n- \u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c Assigne = ID \u0410\u0432\u0442\u043e\u0440\u0430\\n- \u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c Reviewers = \u0438\u0437 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439  Reviewers(list)\\n\\n```YAML\\nvariables:\\n    PROJECT_URL: \'https://gitlab.com/api/v4/projects/$CI_PROJECT_ID/merge_requests\'\\n    REVIEWERS: \'10043654\' # Reviewers Gitlab ID List\\n\\n.gitlab_add_assignee_reviewers:\\n  stage: set up merge request\\n  script:\\n    - read LAST_MR_ID < <(curl --header \\"PRIVATE-TOKEN:$TOKEN\\" \\"$PROJECT_URL\\" | jq \'.[0] | .iid\')\\n    - read MR_AUTHOR < <(curl --header \\"PRIVATE-TOKEN:$TOKEN\\" \\"$PROJECT_URL/$LAST_MR_ID\\" | jq \'.author | .id\')\\n    # add assignee\\n    - curl -s --request PUT --header \\"PRIVATE-TOKEN:$TOKEN\\" \\"$PROJECT_URL/$LAST_MR_ID\\" --form \\"assignee_ids=$MR_AUTHOR\\" | jq \'.assignees\'\\n    # add reviewers\\n    - curl -s --request PUT --header \\"PRIVATE-TOKEN:$TOKEN\\" \\"$PROJECT_URL/$LAST_MR_ID\\" --form \\"reviewer_ids=$REVIEWERS\\"\\n```\\n\\n\\n## 3. Python gitlab API\\n\\n\u0414\u0430\u043d\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0431\u043e\u043b\u0435\u0435 \u0433\u0438\u0431\u043a\u0438\u0439 \u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0432 \u043f\u043b\u0430\u043d\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043e\u043a \u043f\u043e\u0434 \u0440\u0430\u0437\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f.\\n\u0415\u0441\u0442\u044c \u0442\u0430\u043a \u0436\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u0430\u043a python script \u0432 ``gitlab-ci``\\n\\n\u041f\u043e\u043b\u043d\u044b\u0439 \u043a\u043e\u0434 \u043d\u0430 [github](https://github.com/akmalovaa/gitlab-auto-add-reviewers/tree/master/Python)\\n\\nPython/settings.py\\n```Python\\nGITLAB_API_ADDR = \'<https://gitlab.com>\'    # Your Gitlab URL\\nGITLAB_TOKEN=\'YOUR GITLAB API TOKEN\'        # API Token use import .env\\nGITLAB_ROOT_GROUP = \'\'                      # Root Group optional\\nGITLAB_REVIEWERS: list = [10043654]         # Gitlab Reviewrs ID\\n```\\n\\nPython/main.py\\n```Python\\nimport gitlab\\nimport settings\\nimport typing\\n\\ngl = gitlab.Gitlab(settings.GITLAB_API_ADDR, private_token=settings.GITLAB_TOKEN)\\n\\n\\ndef get_last_merge_requests() -> None:\\n    \\"\\"\\" Get last merg request \\"\\"\\"\\n    if settings.GITLAB_ROOT_GROUP == \'\':\\n        all_mr: typing.Any = gl.mergerequests.list(state=\\"opened\\")\\n    else:\\n        all_mr: typing.Any = gl.groups.get(settings.GITLAB_ROOT_GROUP).mergerequests.list(state=\\"opened\\")\\n    try:\\n        last_mr: gitlab.v4.objects.merge_requests.MergeRequest = all_mr[0]\\n    except IndexError:\\n        print(\\"Merge requests - Not found\\")\\n        return\\n    _auto_add_responsible(last_mr)\\n\\n\\ndef _auto_add_responsible(mr: gitlab.v4.objects.merge_requests.GroupMergeRequest) -> None:\\n    project: gitlab.v4.objects.projects.Project = gl.projects.get(\\n        mr.project_id, lazy=True\\n    )\\n    editable_mr: gitlab.v4.objects.merge_requests.ProjectMergeRequest = (\\n        project.mergerequests.get(mr.iid, lazy=True)\\n    )\\n    editable_mr.assignee_id = mr.author[\\"id\\"]\\n    editable_mr.reviewer_ids = settings.GITLAB_REVIEWERS\\n    print(editable_mr)\\n    editable_mr.save()\\n\\n\\nif __name__ == \\"__main__\\":\\n    get_last_merge_requests()\\n```\\n\\nexample for ```.gitlab-ci.yml```\\n```YAML\\n.python_add_reviewers:\\n  script:\\n    - pip install virtualenv\\n    - virtualenv venv\\n    - source venv/bin/activate\\n    - pip install -r Python/requirements.txt\\n    - python Python/main.py\\n```"},{"id":"monitoring-pc-club","metadata":{"permalink":"/blog/monitoring-pc-club","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/monitoring-pc-club/index.md","source":"@site/blog/monitoring-pc-club/index.md","title":"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430","description":"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0432 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u043c \u043a\u043b\u0443\u0431\u0435","date":"2023-05-28T00:00:00.000Z","formattedDate":"28 \u043c\u0430\u044f 2023 \u0433.","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"monitoring","permalink":"/blog/tags/monitoring"}],"readingTime":3.185,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"monitoring-pc-club","title":"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430","description":"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0432 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u043c \u043a\u043b\u0443\u0431\u0435","image":"./monitoring-pc-club.png","tags":["docker","monitoring"],"keywords":["monitoring","docker","linux","prometheus","grafana","monitoring"],"date":"2023-05-28T00:00:00.000Z"},"prevItem":{"title":"Gitlab auto add reviewers","permalink":"/blog/gitlab-auto-reviewers"},"nextItem":{"title":"Releases info","permalink":"/blog/releases-info"}},"content":"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0434\u0430\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0442\u044c \u0438 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e \u0443\u0437\u043d\u0430\u0432\u0430\u0442\u044c \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u0438 \u043e\u0431\u0449\u0435\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435.\\n\\n[![Releases update info](./monitoring-pc-club.png)](/blog/monitoring-pc-club)\\n\\n\x3c!--truncate--\x3e\\n## \u0417\u0430\u0447\u0435\u043c \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433?\\n\\n\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0443 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u0443\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f. \\n\\n\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043c\u043d\u043e\u0433\u0438\u0435 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0440\u0435\u0448\u0430\u0442\u044c \u0434\u043e \u0438\u0445 \u043f\u0440\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0443\u043b\u0443\u0447\u0448\u0430\u0442\u044c \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\\n\\n\\n## \u0427\u0442\u043e \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u0442\u044c?\\n\\n- CPU (\u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430)\\n- GPU (\u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e\u043a\u0430\u0440\u0442\u0443, \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430)\\n- RAM (\u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0443\u044e \u043f\u0430\u043c\u044f\u0442\u044c)\\n- SSD, HDD (\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u0438\u0441\u043a\u043e\u0432, \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043c)\\n- \u041b\u044e\u0431\u0430\u044f \u0434\u0440\u0443\u0433\u0430\u044f \u043f\u043e\u043b\u0435\u0437\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0432\u0435\u0441\u0442\u0438\\n\\n## \u041a\u0430\u043a \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u0442\u044c?\\n\\n\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u043a\u0430 Prometheus + Grafana\\n\\n\u042d\u0442\u043e \u0441\u0430\u043c\u044b\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0434\u043b\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430, \u0431\u044b\u0441\u0442\u0440\u044b\u0435 \u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u0435\\n\\n### Prometheus\\n\\n\u0421\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u0438 \u0445\u0440\u0430\u043d\u0438\u0442 \u0432\u0441\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438. \u0421\u0430\u043c \u0445\u043e\u0434\u0438\u0442 \u043a \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u044b \u0438 \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u043d\u0443\u0436\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \\n\\n\\n### Grafana\\n\\n\u0411\u0435\u0440\u0435\u0442  \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 Prometheus \u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043a\u0440\u0430\u0441\u0438\u0432\u043e \u0432\u0441\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c. \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430\\n\\n\\n### Exporters\\n\\n**\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0435\u0440** - \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043e\u0431\u043e\u0439 \u0441\u043b\u0443\u0436\u0431\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0438 \u043f\u043e\u0434\u0433\u043e\u0442\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u0435\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u043c \u0434\u043b\u044f Prometheus. \u041d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435 \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043d\u0443\u0436\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d exporter\\n\\n![monitoring](./monitoring.jpg)\\n\\n\\n## \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\\n\\n\u0421\u0435\u0440\u0432\u0435\u0440 \u0438\u043b\u0438 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u043a\u0430 \u0441 Linux (\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b Ubuntu \u043d\u043e \u0434\u043b\u044f docker \u0440\u0430\u0437\u043d\u0438\u0446\u044b \u043d\u0435\u0442)\\n\\n### docker-compose \\n\\n\u0414\u043b\u044f \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f docker-compose\\n\\n```YAML\\nversion: \\"3.7\\"\\nservices:\\n  prometheus:\\n    image: prom/prometheus:v2.44.0\\n    container_name: prometheus\\n    command:\\n      - \'--config.file=/etc/prometheus/prometheus.yml\'\\n      - \'--storage.tsdb.path=/prometheus\'\\n      - \'--web.console.libraries=/etc/prometheus/console_libraries\'\\n      - \'--web.console.templates=/etc/prometheus/consoles\'\\n      - \'--storage.tsdb.retention.time=30d\'\\n      - \'--web.enable-lifecycle\'\\n      - \'--web.external-url=https://prom.akmalov.com\'\\n    environment:\\n     - TZ=\\"Asia/Yekaterinburg\\"\\n    ports:\\n    - 9090:9090\\n    volumes:\\n    - ./prometheus/config:/etc/prometheus/\\n    - ./prometheus/data:/prometheus/\\n\\n    restart: unless-stopped\\n\\n  grafana:\\n    image: grafana/grafana:9.5.3-ubuntu\\n    container_name: grafana\\n    depends_on:\\n      - prometheus\\n    ports:\\n      - 3000:3000\\n    volumes:\\n      - ./grafana/data:/var/lib/grafana\\n      - ./grafana/provisioning:/etc/grafana/provisioning\\n    environment:\\n      - GF_SECURITY_ADMIN_USER=admin\\n      - GF_SECURITY_ADMIN_PASSWORD=12345\\n      - GF_USERS_ALLOW_SIGN_UP=false\\n      - TZ=\\"Asia/Yekaterinburg\\"\\n      - BROWSER_TZ=\\"Asia/Yekaterinburg\\"\\n    restart: unless-stopped\\n```\\n\\n### \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f prometheus\\n\\n\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0430 \u043f\u043e \u043f\u0443\u0442\u0438:\\n``` ./prometheus/config/prometheus.yml  ```\\n\\n\u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b 5 \u041f\u041a, \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 job \u0434\u043b\u044f Windows \u0438 GPU \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0435\u0440\u043e\u0432\\n\\n```\\nglobal:\\n  scrape_interval:     15s\\n  evaluation_interval: 15s\\n\\n  - job_name: \'GPU\'\\n    metrics_path: \'/metrics\'\\n    scrape_interval: 5s\\n    static_configs:\\n      - targets:\\n        - 192.168.18.11:9835\\n        - 192.168.18.12:9835\\n        - 192.168.18.13:9835\\n        - 192.168.18.14:9835\\n        - 192.168.18.15:9835\\n        labels:\\n          metrics: nvidia\\n\\n  - job_name: \'Windows\'\\n    metrics_path: \'/metrics\'\\n    scrape_interval: 5s\\n    static_configs:\\n      - targets:\\n        - 192.168.18.11:9182\\n        - 192.168.18.12:9182\\n        - 192.168.18.13:9182\\n        - 192.168.18.14:9182\\n        - 192.168.18.15:9182\\n        labels:\\n          metrics: OS\\n```\\n\\n\\n\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 config \u0444\u0430\u0439\u043b\u0430 \u043c\u043e\u0436\u043d\u043e \u0441\u0438\u043b\u044c\u043d\u043e \u0443\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Ansible\\n\\n## \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043e\u0432\\n\\n\u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0438 \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0432\u0430 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0435\u0440\u0430:\\n\\n### [windows exporter](https://github.com/prometheus-community/windows_exporter)\\n\\n[Windows Exporter](https://github.com/prometheus-community/windows_exporter) - \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b Windows \u0438 \u0441\u043e\u0431\u0438\u0440\u0430\u0442\u044c \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0432\u044b\u0432\u043e\u0434\u0438\u0442 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 Windows, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a:\\n\\n- \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 \u0438 \u043f\u0430\u043c\u044f\u0442\u0438;\\n- \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0438\u0441\u043a\u043e\u0432 \u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f;\\n- \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432;\\n- \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u043b\u0443\u0436\u0431 \u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 Windows;\\n- \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\u0445 \u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u0441\u043e\u043a\u0435\u0442\u0430\u0445;\\n- \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 IIS \u0438 \u043c\u043d\u043e\u0433\u0438\u0435 \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b.\\n\\n\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 Windows Exporter \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0438 \u0430\u043d\u0430\u043b\u0438\u0437 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f Windows \u0438 \u0431\u044b\u0441\u0442\u0440\u043e \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0430\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c, \u043d\u0438\u0437\u043a\u0430\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435. \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u044d\u0442\u043e\u043c\u0443 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0443 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0432\u044b\u0441\u0438\u0442\u044c \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0438 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u044b Windows, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.\\n\\n### [nvidia gpu exporter](https://github.com/utkuozdemir/nvidia_gpu_exporter)\\n\\n[Nvidia GPU exporter](https://github.com/utkuozdemir/nvidia_gpu_exporter) - \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0432\u0441\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0432\u0438\u0434\u0435\u043e\u043a\u0430\u0440\u0442\u0435\\n\\n## \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 Grafana\\n\\n\u0414\u0430\u043b\u0435\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Grafana (WEB \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 c docker \u043d\u0430 \u043f\u043e\u0440\u0442\u0443 3000)\\n\\n`Configuration -> Data source -> Add Prometheus`\\n\\n![grafana data source](./grafana-data-source.png)\\n\\n\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f \u0447\u0442\u043e \u0432\u0441\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e, \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u044b\u0435 dashboard \u0432 \u0433\u0440\u0430\u0444\u0430\u043d\u0430\\n\\n- [Windows exporter dashboard](https://grafana.com/grafana/dashboards/14694-windows-exporter-dashboard/)\\n- [Nvidia GPU dashboard](https://grafana.com/grafana/dashboards/14574-nvidia-gpu-metrics/)\\n\\n`Dashboard -> Import -> JSON file`\\n\\n### Windows exporter dashboard\\n![Windows exporter dashboard](./windows-exporter.png)\\n\\n### Nvidia GPU exporter dashboard\\n![Nvidia GPU exporter dashboard](./nvidia-gpu-exporter.png)\\n\\n## \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430\\n\\n\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0441\u0442\u0430\u043b\u0430\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 dashboard \u0438 \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0432 \u0443\u0434\u043e\u0431\u043d\u043e\u043c \u0432\u0438\u0434\u0435 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438\\n\\n\u0414\u043b\u044f \u0441\u0435\u0431\u044f \u0432\u044b\u0431\u0440\u0430\u043b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0442\u0438\u043f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f (\u0432 \u043e\u0434\u043d\u0443 \u043b\u0438\u043d\u0438\u044e \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435)\\n\\n![grafana pc dashboard](./grafana-pc-monitoirng.png)\\n\\n\\n## \u0418\u0442\u043e\u0433\u0438\\n\\nPrometheus \u0438 Grafana \u0434\u0430\u044e\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u043c\u043e\u043d\u0438\u0442\u0438\u0440\u0438\u043d\u0433 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430.\\n\u041b\u0435\u0433\u043a\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c, \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u0442\u044c. \\n\\n\u0414\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043e\u0432 \u0443\u0434\u043e\u0431\u043d\u0435\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Ansible \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0435\u0440\u043e\u0432 \u0438 \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0448\u0430\u0431\u043b\u043e\u043d\u0438\u0437\u0430\u0442\u043e\u0440\u0430. \\n\\n\u0422\u0430\u043a \u0436\u0435 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0435\u0440\u044b \u043c\u043e\u0436\u043d\u043e \u0432\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0432 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443 \u0441 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439, \u0432 \u0442\u0430\u043a\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0438 \u0432\u0441\u0435 \u043d\u043e\u0432\u044b\u0435 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043f\u043e\u043f\u0430\u0434\u0442\u044c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430."},{"id":"releases-info","metadata":{"permalink":"/blog/releases-info","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/releases-info/index.md","source":"@site/blog/releases-info/index.md","title":"Releases info","description":"releases check latest version","date":"2023-05-15T00:00:00.000Z","formattedDate":"15 \u043c\u0430\u044f 2023 \u0433.","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"python","permalink":"/blog/tags/python"},{"label":"flask","permalink":"/blog/tags/flask"},{"label":"releases","permalink":"/blog/tags/releases"}],"readingTime":0.745,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"releases-info","title":"Releases info","description":"releases check latest version","image":"./update-releases.png","tags":["docker","python","flask","releases"],"date":"2023-05-15T00:00:00.000Z"},"prevItem":{"title":"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430","permalink":"/blog/monitoring-pc-club"},"nextItem":{"title":"Image generator","permalink":"/blog/image-generator-python-flask-docker"}},"content":"\u0420\u0435\u0448\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u0440\u0435\u043b\u0438\u0437\u043d\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u0439. \u0413\u043e\u0442\u043e\u0432\u044b\u0439 docker \u0444\u0430\u0439\u043b, \u043d\u0430\u043f\u0438\u0441\u0430\u043d \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c Python, Flask\\n\\n[![Releases update info](./update-releases.png)](/blog/releases-info)\\n\\n\\n\x3c!--truncate--\x3e\\n## Releases info\\n\\n\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430 [Github](https://github.com/akmalovaa/releases-info)\\n\\n\u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043d\u043e\u0432\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 \u0432\u0430\u0448\u0438\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u0438 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442, \u043e\u0442\u0441\u0442\u0430\u0432\u0430\u043d\u0438\u0435 \u043e\u0442 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u0440\u0435\u043b\u0438\u0437\u043e\u0432\\n![Releases info](./example.png)\\n\\n\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 github \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432, \u0433\u0434\u0435 \u0435\u0441\u0442\u044c \u0440\u0435\u043b\u0438\u0437\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a, \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u0432\u0435\u0440\u0441\u0438\u0439 \u043e\u0431\u0440\u0430\u0437\u043e\u0432 \u0441 [Docker hub](https://hub.docker.com/)\\n\\n## \u0417\u0430\u043f\u0443\u0441\u043a\\n\\n\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c .env.example \u0432 .env \u0444\u0430\u0439\u043b \u0438 \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0439 github token (\u043d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a github API)\\n```\\ncp .env.example .env\\n```\\n\\n\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c docker-compose\\n\\n```\\ndocker-compose up -d\\n```\\n\\n## \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\\n\\n\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0430\u0439\u043b config.yml:\\n\\n```yaml\\nservices:\\n  sentry:\\n    github:\\n      owner: getsentry\\n      repo: sentry\\n    version: 22.11.0\\n```\\n\\n\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0441\u0441\u044b\u043b\u043a\u0430 <https://github.com/getsentry/sentry>\\n\\n- owner (\u0432\u043b\u0430\u0434\u0435\u043b\u0435\u0446) - getsentry\\n- repo (\u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439) - sentry\\n\\n## \u041f\u043b\u0430\u043d\u044b\\n\\n- \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 Docker HUB\\n- \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0432 Telegram \u043e \u043d\u043e\u0432\u044b\u0445 \u0440\u0435\u043b\u0438\u0437\u0430\u0445\\n- \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0430\u0440\u0441\u0438\u043d\u0433 \u0432\u0435\u0440\u0441\u0438\u0438 \u0441 iac\\n- \u0423\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441, \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c React\\n- \u041f\u043e\u0434\u0443\u043c\u0430\u0442\u044c \u043d\u0430\u0441\u0447\u0435\u0442 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"},{"id":"image-generator-python-flask-docker","metadata":{"permalink":"/blog/image-generator-python-flask-docker","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/image-generator/index.md","source":"@site/blog/image-generator/index.md","title":"Image generator","description":"Image generator Python - \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0432\u0435\u0441\u0430","date":"2022-01-23T00:00:00.000Z","formattedDate":"23 \u044f\u043d\u0432\u0430\u0440\u044f 2022 \u0433.","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"python","permalink":"/blog/tags/python"},{"label":"flask","permalink":"/blog/tags/flask"},{"label":"image","permalink":"/blog/tags/image"}],"readingTime":2.58,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"image-generator-python-flask-docker","title":"Image generator","description":"Image generator Python - \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0432\u0435\u0441\u0430","image":"./image-generator.png","tags":["docker","python","flask","image"],"kewords":["image-generator","docker","flask","image-size","github"],"date":"2022-01-23T00:00:00.000Z"},"prevItem":{"title":"Releases info","permalink":"/blog/releases-info"},"nextItem":{"title":"NGINX Proxy Manager","permalink":"/blog/nginx-proxy-manager"}},"content":"Image generator Python \u2014 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f (\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438) \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0432\u0435\u0441\u0430\\n\\n[![Releases update info](./image-generator.png)](/blog/image-generator-python-flask-docker)\\n\\n\x3c!--truncate--\x3e\\n## Image generator\\n\u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e\u044f\u0432\u0438\u043b\u043e\u0441\u044c \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e\u0441\u0442\u044c \u0432 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u0445 \u0440\u0430\u0437\u043d\u043e\u0433\u043e \u0432\u0435\u0441\u0430 (\u0440\u0430\u0437\u043c\u0435\u0440\u0430) \u043e\u0442 1 \u0434\u043e 120 \u041c\u0431, \u0438\u0441\u043a\u0430\u043b \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439, \u043d\u0438\u0447\u0435\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u043d\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u043b (\u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044e \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0443 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u0435\u0448\u044c \u043a\u0430\u043a\u043e\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435 \u2014 \u043d\u043e \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043d\u0435\u0447\u043d\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c)\\n\\n\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 [Github](https://github.com/akmalovaa/image-generator)\\n\\n## \u041f\u0440\u0438\u043d\u0446\u0438\u043f \u0440\u0430\u0431\u043e\u0442\u044b\\n\\n- \u0412\u0432\u043e\u0434 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\\n- \u0412\u044b\u0431\u043e\u0440 \u0442\u0438\u043f\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f (\u0444\u043e\u0440\u043c\u0430\u0442, \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435)\\n- \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\\n\\n\u0412\u0440\u043e\u0434\u0435 \u0432\u0441\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043d\u043e \u043d\u0430 3 \u043f\u0443\u043d\u043a\u0442\u0435, \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0432\u0438\u0441, \u0435\u0441\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a \u0433\u0434\u0435 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u044b\u0441\u043e\u0442\u0443 \u0438 \u0448\u0438\u0440\u0438\u043d\u0443 \u0434\u043e\u0431\u0438\u0432\u0430\u044f\u0441\u044c \u044d\u0442\u0438\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 \u043d\u0443\u0436\u043d\u044b\u0445 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432 \u0444\u0430\u0439\u043b\u0430 \u0431\u044b\u043b\u043e \u043d\u0435 \u0443\u0434\u043e\u0431\u043d\u043e.\\n\\n\u0420\u0435\u0448\u0438\u043b \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0441\u0445\u0438\u0442\u0440\u0438\u0442\u044c, \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0439 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043d\u0443\u0436\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430, \u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0432 zip \u0438 \u043f\u043e\u0434\u0441\u0443\u043d\u0443\u0442\u044c \u043a\u0430\u043a \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043a \u043b\u044e\u0431\u043e\u043c\u0443 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044e\\n\\n## \u041a\u043e\u043d\u0441\u043e\u043b\u044c\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\\n\\n\u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 ./images\\n```python\\nimport os.path\\nimport zipfile\\nimport random\\n\\ndef _get_image(extension) -> str:\\n    \\"\\"\\"Get random image from template desire extension (jpg, png)\\"\\"\\"\\n    images: list = []\\n    for root, dirs, files in os.walk(\'images/\'):\\n        for f in files:\\n            if f[-4:] == f\'.{extension}\':\\n                images.append(f)\\n    if images:\\n        return(f\'images/{random.choice(images)}\')\\n    else:\\n        print(f\'No found template images\')\\n\\n\\ndef generate_image(size: int = 1, image_type: str = \'jpg\') -> None:\\n    \\"\\"\\" Generate binary file and create zip archive \\"\\"\\"\\n    if os.path.exists(f\\"generated/{size}.{image_type}\\"):\\n       return\\n    size_byte: int = size*1024*1024\\n    filename: str = \'workload.dat\'\\n    generated_zip: str  = \'generated.zip\'\\n    with open(\'%s\'%filename, \'wb\') as fout:\\n        fout.write(os.urandom(size_byte)) #1\\n    with zipfile.ZipFile(generated_zip, mode=\\"w\\") as archive:\\n        archive.write(filename)\\n    os.remove(filename)\\n    \\"\\"\\" Merge zip and jpg file \\"\\"\\"\\n    jpg_file = open(_get_image(image_type), \'rb\')\\n    jpg_data = jpg_file.read()\\n    jpg_file.close()\\n    zip_file = open(generated_zip, \'rb\')\\n    zip_data = zip_file.read()\\n    zip_file.close()\\n    # merge zip-jpg\\n    new_file = open(f\'generated/{size}.{image_type}\', \'wb\')\\n    new_file.write(jpg_data)\\n    new_file.write(zip_data)\\n    new_file.close()\\n    # Remove generated zip\\n    os.remove(generated_zip)\\n\\n\\nif __name__ == \'__main__\':\\n    input_size = input (\\"Enter the desired image size (Mb): \\")\\n    try:\\n        image_size = int(input_size)\\n    except ValueError:\\n        print(\\"Not interesting value, need number(int)\\")\\n    if image_size > 0 and image_size < 1000:\\n        generate_image(image_size)\\n    else:\\n        print(\'Sorry, dont want to do this\') \\n```\\n\\n## Web \u0432\u0435\u0440\u0441\u0438\u044f\\n\\n\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b Flask + Bootstrap \u0434\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f.\\n\\n\u0420\u0430\u043d\u0435\u0435 \u043d\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u043b\u043e\u0441\u044c \u0434\u0435\u043b\u0430\u0442\u044c \u0432\u0435\u0431 \u0441\u043a\u0440\u0438\u043f\u0442\u044b, \u043f\u043e\u044f\u0432\u0438\u043b\u043e\u0441\u044c \u0436\u0435\u043b\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c.\\n\\n\u0426\u0435\u043b\u0438:\\n\\n- \u041f\u043e\u043b\u0435 \u0432\u0432\u043e\u0434\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0444\u0430\u0439\u043b\u0430 \u0432 Mb (\u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b \u043e\u0442 1 \u0434\u043e 999)\\n- \u0412\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u0444\u0430\u0439\u043b\u043e\u0432\\n- \u041a\u043d\u043e\u043f\u043a\u0430\\n\\n\u0422\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0431\u0435\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f:\\n\\n![simple-web](./simple-web.png)\\n\\n\u0421 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0441\u0442\u0438\u043b\u0435\u0439 Bootstrap:\\n\\n![Bootstrap-flask](./bootstrap.png)\\n\\n## \u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0438\u0437\u0430\u0446\u0438\u044f\\n\u041d\u0443 \u0438 \u0447\u0442\u043e\u0431 \u0443\u0434\u043e\u0431\u043d\u0435\u0435 \u0431\u044b\u043b\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435 \u044d\u0442\u043e \u0432 docker\\n\\nDockerfile:\\n```\\nFROM python:3.10.5-slim-buster\\n\\nRUN apt update && apt upgrade -y && pip install poetry\\n\\nWORKDIR /image-generator\\n\\nCOPY . .\\n\\nRUN poetry config virtualenvs.create false\\nRUN poetry install\\n```\\n\\n\\n\u0414\u043b\u044f \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 docker-compose\\n\\n```yaml\\ndocker-compose.yml:\\nversion: \'3.7\'\\n\\nservices:\\n  app:\\n    build: ./\\n    image: image-generator\\n    ports:\\n      - 80:80\\n    command: \\"python app.py\\"\\n    volumes:\\n      - ./images:/images\\n      - ./generated:/generated\\n```\\n\\n\\n## \u0417\u0430\u043f\u0443\u0441\u043a\\n\\n\u041d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0438\u043b\u0438 VM \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c docker, docker-compose\\n```bash\\ngit clone https://github.com/akmalovaa/image-generator.git .\\ndocker-compose up -d --build\\n```\\n\\n## \u0417\u0430\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\\n\\n\u0415\u0449\u0435 \u043c\u043d\u043e\u0433\u043e \u0432\u0441\u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c, \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043b\u0443\u0447\u0448\u0435 \u0431\u0440\u0430\u0442\u044c \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442 \u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f.\\n\\n\u0426\u0435\u043b\u044c \u0434\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u0430 \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u043b\u0441\u044f \u0441 Flask \u0441\u043a\u0440\u0438\u043f\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u0431\u044b\u0441\u0442\u0440\u043e \u0438 \u0443\u0434\u043e\u0431\u043d\u043e \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f\\n\\n![result-files](./result-files.png)\\n\\n![file-info](./file-info.png)\\n\\n\\n\\n\u0424\u0430\u0439\u043b\u044b \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432 Windows, Photoshop \u0438 WinRAR\\n\\n\u0415\u0441\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0432 \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0435 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043e\u0447\u043d\u044b\u0439 \u0430\u0440\u0445\u0438\u0432 \u0438\u0441\u0447\u0435\u0437\u043d\u0435\u0442 \u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0441\u0442\u0430\u043d\u0435\u0442 \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430."},{"id":"nginx-proxy-manager","metadata":{"permalink":"/blog/nginx-proxy-manager","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/nginx-proxy-manager/index.md","source":"@site/blog/nginx-proxy-manager/index.md","title":"NGINX Proxy Manager","description":"NGINX Proxy Manager - \u0441\u0435\u0440\u0432\u0438\u0441 (WEB GUI) \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0435\u0439 NGINX","date":"2022-01-08T00:00:00.000Z","formattedDate":"8 \u044f\u043d\u0432\u0430\u0440\u044f 2022 \u0433.","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"homelab","permalink":"/blog/tags/homelab"},{"label":"nginx","permalink":"/blog/tags/nginx"}],"readingTime":3.705,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"nginx-proxy-manager","title":"NGINX Proxy Manager","description":"NGINX Proxy Manager - \u0441\u0435\u0440\u0432\u0438\u0441 (WEB GUI) \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0435\u0439 NGINX","image":"./nginx-proxy-manager-logo.png","tags":["docker","homelab","nginx"],"keywords":["nginx","proxy","manager","web","gui","docker","docker-compose"],"date":"2022-01-08T00:00:00.000Z"},"prevItem":{"title":"Image generator","permalink":"/blog/image-generator-python-flask-docker"},"nextItem":{"title":"Adguard Home","permalink":"/blog/adguard-home"}},"content":"NGINX Proxy Manager - \u0441\u0435\u0440\u0432\u0438\u0441 (WEB GUI) \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0435\u0439 NGINX. \u0418\u0434\u0435\u0442 \u043a\u0430\u043a \u0433\u043e\u0442\u043e\u0432\u044b\u0439 docker \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440, \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e\u0435 \u0438 \u0443\u0434\u043e\u0431\u043d\u043e\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u043c\u0438 \u0431\u0430\u0437\u043e\u0432\u044b\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438 NGINX.\\n\\n[![nginx logo](./nginx-proxy-manager-logo.png)](/blog/nginx-proxy-manager)\\n\\n\x3c!--truncate--\x3e\\n## NGINX Proxy Manager\\n\\nOpen Source \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 [Github](https://github.com/NginxProxyManager/nginx-proxy-manager) \u0438 [\u041e\u0444\u0444 \u0441\u0430\u0439\u0442](https://nginxproxymanager.com/)\\n\\n\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:\\n- \u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 web \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\\n- \u041b\u0435\u0433\u043a\u0430\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0440\u043e\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0435\u0437 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f nginx config \u0444\u0430\u0439\u043b\u0430\\n- \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438, \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0438 \u0436\u0443\u0440\u043d\u0430\u043b \u0430\u0443\u0434\u0438\u0442\u0430\\n- \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u0438\u043b\u0438 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c SSL \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b\\n- \u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0430, \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438, \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0435 \u0438 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043d\u044b\u0435 \u0430\u0434\u0440\u0435\u0441 \u043b\u0438\u0441\u0442\u044b.\\n\\n\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u043e \u043f\u0440\u043e\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e URL \u0434\u043e\u043c\u0435\u043d\u0430.\\n\\n\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0438\u043c\u0435\u044e\u0442\u0441\u044f 3 \u0434\u043e\u043c\u0435\u043d\u0430:\\n- akmalov.com\\n- test.akmalov.com\\n- lvl.akmalov.com\\n\\n\u0412\u0441\u0435 \u0434\u043e\u043c\u0435\u043d\u044b \u043e\u0431\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0432\u043d\u0435\u0448\u043d\u0435\u043c\u0443 IP \u043d\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0442\u043e\u0440\\n\u041c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0442\u043e\u0440 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u0441\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0434\u0443\u0442 \u043d\u0430 80 \u0438\u043b\u0438 443 \u043f\u043e\u0440\u0442 \u043d\u0430 NGINX Proxy Manager\\nNGINX \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0434\u043e\u043c\u0435\u043d\u0430 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440, VM, Container \u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438. \u041f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442, \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f\u043c\u0438.\\n\\n\\n![nginx exmaple shema](nginx-exmaple-shema.png \\"\u0421\u0445\u0435\u043c\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f NGINX Poroxy Manager\\")\\n\\n### \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 NGINX Proxy Manager\\n#### 1. \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0441\u0440\u0435\u0434\u044b\\n\\n\u0411\u0443\u0434\u0443 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043d\u0430 LXC Proxmox\\n\\n- OS: Ubuntu 22.02\\n- CPU: 2\\n- RAM: 1 Gb\\n- Disk: 10 Gb\\n  \\n\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 docker\\n\\n```\\napt update && apt upgrade -y\\napt install -y docker.io docker-compose\\n```\\n\\n#### 2. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 docker-compose.yaml\\n\\n```YAML\\nversion: \\"3\\"\\nservices:\\n  nginx-proxy-manager:\\n    image: \'jc21/nginx-proxy-manager:latest\'\\n    restart: unless-stopped\\n    ports:\\n      - \'80:80\' # HTTP port\\n      - \'443:443\' # HTTPS port\\n      - \'81:81\' # Admin web port\\n    volumes:\\n      - ./data:/data\\n      - ./letsencrypt:/etc/letsencrypt\\n```\\n\\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0444\u0430\u0439\u043b\u043e\u0432\u0430\u044f \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 SQLite - `data/database.sqlite`\\n\u0415\u0441\u0442\u044c \u0442\u0430\u043a \u0436\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 MySQL \u043d\u0430 \u043e\u0444\u0444.\u0441\u0430\u0439\u0442\u0435. \\n\u0412 \u043c\u043e\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0438 SQLite \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0441 \u043e\u0433\u0440\u043e\u043c\u043d\u044b\u043c \u0437\u0430\u043f\u0430\u0441\u043e\u043c\\n\\n\u0417\u0430\u043f\u0443\u0441\u043a \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430\\n```\\ndocker-compose up -d\\n```\\n\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430, \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043f\u0430\u043d\u0435\u043b\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430\\n\\n<http://YOUR-IP:81/>\\n\\n\u041b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\\n```\\nEmail: admin@example.com\\nPassword: changeme\\n```\\n\\n\u041f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0441\u043a\u0443\u044e \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c \u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c\\n\\n### \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 NGINX Proxy Manager\\n\u0422\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0438\u0437\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e GUI \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u044d\u043a\u0440\u0430\u043d\u0430 (\u0412\u0441\u0435 \u043f\u043e \u043d\u0443\u043b\u044f\u043c \u0442.\u043a. \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u043b\u0438 \u0435\u0449\u0435)\\n![nginx proxy manager web](web-main.png \\"gui nginx proxy manager web\\")\\n\\n\\nSSL \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Let\'Encrypt \u0432 \u043e\u0434\u043d\u043e \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u0438\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b\\n![nginx proxy manager ssl](ssl-generate.png \\"\u041f\u0430\u043d\u0435\u043b\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 SSL\\")\\n\\n\\n\\n### \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 Host Proxy NGINX\\n\u0412\u0441\u0435 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u0442\u0443\u0438\u0442\u0438\u0432\u043d\u043e \u043f\u043e\u043d\u0442\u044f\u043d\u043e, \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u044e \u0434\u043e\u043c\u0435\u043d, \u043f\u043e\u0440\u0442, \u0435\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e  \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 SSL \u0434\u043b\u044f HTTPS\\n![nginx proxy manager proxy host1](add-host1.png \\"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 proxy host\\")\\n![nginx proxy manager proxy host3](add-host3.png \\"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 proxy host\\")\\n\\n\u0414\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0434\u043e\u043c\u0435\u043d\u043e\u0432 \u0438\u0437 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432 DNS \u0434\u043e\u043c\u0435\u043d\u044b \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432 Proxy Host \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 NGINX Proxy Manager\\n\\n\u0412 \u043e\u0431\u0449\u0435\u043c \u0438 \u0446\u0435\u043b\u043e\u043c \u044d\u0442\u043e\u0433\u043e \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0434\u043b\u044f \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u043f\u0438\u0441\u0430\u043b \u0432\u044b\u0448\u0435. \u0425\u043e\u0442\u044c \u0438 \u043a\u043e\u043d\u0444\u0438\u0433 \u0431\u044b\u043b \u0431\u044b \u043d\u0435 \u0442\u0430\u043a\u043e\u0439 \u0441\u043b\u043e\u0436\u043d\u043e\u0439, \u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u044d\u0442\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043c\u043e\u0436\u043d\u043e \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043b\u0438\u043a\u043e\u0432.\\n\\n## \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438\\n\\n\u0420\u0430\u0441\u043f\u0438\u0448\u0443 \u0435\u0449\u0435 \u043a\u043e\u0435 \u043a\u0430\u043a\u0438\u0435 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0444\u0438\u0447\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e \u0443 \u0441\u0435\u0431\u044f\\n\\n### Dashboard \u0434\u043b\u044f nginx proxy manager\\n\\n\u041f\u0440\u043e\u0435\u043a\u0442 \u043e\u0442\u043d\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u0432\u0435\u0436\u0438\u0439 \u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u044b\u0432\u0430\u0435\u0442\u0441\u044f, \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e\\n\\n[\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 Git \u0430\u0432\u0442\u043e\u0440\u0430](https://github.com/xavier-hernandez/goaccess-for-nginxproxymanager)\\n\\n![nginx proxy manager dashboard](monitoring.png \\"nginx proxy manager \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\\")\\n\\n\u041a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043b\u043e\u0433\u043e\u0432, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443, \u043e\u0446\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u043e \u043d\u0430 Go \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0431\u044b\u0441\u0442\u0440\u043e, \u0434\u0430\u0436\u0435 \u0441 \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u043e\u0431\u044a\u0435\u043c\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0445, \u043d\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u044f\u0435\u0442 \u043c\u043d\u043e\u0433\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432.\\n\\n\u0412 docker-compose \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0443\u0442\u044c \u043a \u043b\u043e\u0433\u0430\u043c \u043e\u0442 nginx proxy manager\\n\\n\\n### \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 404 \u0434\u043b\u044f nginx proxy manager\\n\\nNginx \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u043c\u0435\u0441\u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0438 404 \u0441\u0434\u0435\u043b\u0430\u0442\u044c redirect \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0445\u043e\u0441\u0442 \u0438\u043b\u0438 \u0434\u0430\u0436\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0432\u043e\u0439 HTML \u043a\u043e\u0434\\n![nginx proxy manager custom 404](404-host.png \\"nginx proxy manager 404\\")\\n\\n\\n\u0412\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0441\u044c Redirect \u0438 \u0441\u0434\u0435\u043b\u0430\u044e \u043a\u0440\u0430\u0441\u0438\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0434\u043b\u044f 404\\n\\n[\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 Docker Hub \u043f\u0440\u043e\u0435\u043a\u0442\u0430](https://hub.docker.com/r/kale5/rickroll)\\n\\n![nginx proxy manager custom 404](rick.jpeg \\"nginx proxy manager 404 rickroll\\")\\n\\n\\n\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u043c\u0435\u0441\u0442\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043e\u0448\u0438\u0431\u043e\u043a \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0430 \u044d\u0442\u043e\u0442 URL, \u0441 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0432\u0438\u0434\u0435\u043e\\n\\n### \u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0439 docker-compose\\n\\n\u0412 \u0438\u0442\u043e\u0433\u0435 \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 docker-compose \u0443 \u043c\u0435\u043d\u044f \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0442\u0430\u043a:\\n```YAML\\nversion: \\"3\\"\\nservices:\\n  nginx-proxy-manager:\\n    image: \'jc21/nginx-proxy-manager:latest\'\\n    restart: unless-stopped\\n    ports:\\n      - \'80:80\' # HTTP Port\\n      - \'443:443\' # HTTPS Port\\n      - \'81:81\' # Admin Web Port\\n    volumes:\\n      - ./data:/data\\n      - ./letsencrypt:/etc/letsencrypt\\n\\n  npm-monitoring:\\n    image: xavierh/goaccess-for-nginxproxymanager:latest\\n    restart: always\\n    environment:\\n        - TZ=Asia/Yekaterinburg\\n        - SKIP_ARCHIVED_LOGS=True #optional\\n        - EXCLUDE_IPS=127.0.0.1 #optional\\n        - LOG_TYPE=NPM\\n    ports:\\n        - \'82:7880\'\\n    volumes:\\n        - ./data/logs:/opt/log\\n  \\n  error-page-404:\\n    image: \'kale5/rickroll:latest\'\\n    restart: unless-stopped\\n    ports:\\n      - \'83:80\'\\n```\\n\\n## \u0418\u0442\u043e\u0433\u0438\\n\u041c\u043d\u0435 \u043e\u0447\u0435\u043d\u044c \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u044d\u0442\u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0431\u044b\u0441\u0442\u0440\u043e \u043b\u0435\u0433\u043a\u043e \u043f\u043e\u0434\u043d\u044f\u0442\u044c \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c NGINX,  \u043a\u0430\u043a\u0438\u0445-\u0442\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441 \u043d\u0438\u043c \u043d\u0435 \u0431\u044b\u043b\u043e, \u0441\u0430\u043c \u043f\u0440\u043e\u0434\u043b\u0435\u0432\u0430\u0435\u0442 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b, \u043e\u0434\u043d\u0438\u043c \u0441\u043b\u043e\u0432\u043e\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u043b \u0438 \u0437\u0430\u0431\u044b\u043b \u0438 \u0438\u043d\u043e\u0433\u0434\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u0445\u043e\u0434\u0438\u043b \u0438 \u0447\u0435\u0440\u0435\u0437 web \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u043b \u043d\u043e\u0432\u044b\u0435 \u0445\u043e\u0441\u0442\u044b \u0432 2-3 \u043a\u043b\u0438\u043a\u0430.\\n\\n\u0422\u0430\u043a \u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043d\u0430\u043b\u043e\u0433 - Traefik, \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u043e \u0435\u0433\u043e \u0438\u0437\u0443\u0447\u0430\u044e, \u043d\u043e \u0442\u0430\u043c \u043d\u0435\u0442 \u0443\u0434\u043e\u0431\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0438 \u0432\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0438, \u0442.\u043a. \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u043e\u0433\u0440\u0443\u0436\u0430\u044e\u0441\u044c \u0432 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044e \u0438 \u043c\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0430\u0434\u043e \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c, \u0431\u043e\u043b\u044c\u0448\u0435 \u0443\u043f\u043e\u0440 \u0438\u043c\u0435\u043d\u043d\u043e \u043d\u0430 traefik \u0438\u0434\u0435\u0442."},{"id":"adguard-home","metadata":{"permalink":"/blog/adguard-home","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/adguard-home/index.md","source":"@site/blog/adguard-home/index.md","title":"Adguard Home","description":"Adguard Home DNS server guide","date":"2021-10-13T10:00:00.000Z","formattedDate":"13 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2021 \u0433.","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"homelab","permalink":"/blog/tags/homelab"},{"label":"networks","permalink":"/blog/tags/networks"}],"readingTime":3.65,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"adguard-home","title":"Adguard Home","description":"Adguard Home DNS server guide","image":"./adguard_home_darkmode.svg","tags":["docker","homelab","networks"],"keywords":["adguard","dns","homelab","docker","docker-compose","network","doh"],"date":"2021-10-13T10:00"},"prevItem":{"title":"NGINX Proxy Manager","permalink":"/blog/nginx-proxy-manager"},"nextItem":{"title":"Cache Server \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430","permalink":"/blog/cache-server"}},"content":"\u041f\u0440\u043e\u0441\u0442\u0430\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0433\u043e DNS \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0441 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u043e\u0439 \u0440\u0435\u043a\u043b\u0430\u043c\u044b \u0438 DOH (DNS over HTTPS)\\n\\n\\n\\n[![Adguard logo](./adguard_home_darkmode.svg)](/blog/adguard-home)\\n\\n\\n\x3c!--truncate--\x3e\\n## Adguard Home DNS \u0441\u0435\u0440\u0432\u0435\u0440\\n\\n**Adguard Home DNS** - [Github](https://github.com/AdguardTeam/AdGuardHome) Open Source \u043f\u0440\u043e\u0435\u043a\u0442 \u0441 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u043c \u043a\u043e\u0434\u043e\u043c, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043a DNS \u0441\u0435\u0440\u0432\u0435\u0440, DHCP, \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0447\u0430\u0441\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430,  \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0438 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b.\\n\u0412 \u044d\u0442\u043e\u0439 \u0441\u0442\u0430\u0442\u044c\u0435 \u043f\u043e\u043a\u0430\u0436\u0443 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c docker-compose \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0433\u043e DNS \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0441 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u043e\u0439 \u0440\u0435\u043a\u043b\u0430\u043c\u044b \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c DoH (DNS-over-HTTPS). \u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u043c\u0430\u0448\u0438\u043d\u0435, \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0438\u043b\u0438 \u043d\u0430 \u043c\u0438\u043d\u0438 \u041f\u041a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: Rasberry Pi\\n\\n![Adguard home](https://cdn.adtidy.org/public/Adguard/Common/adguard_home.gif)\\n\\n## 1. \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0441\u0440\u0435\u0434\u044b\\n\\n\u0411\u0443\u0434\u0443 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043d\u0430 LXC Proxmox\\n- OS: Ubuntu 22.02\\n- CPU: 2\\n- RAM: 1 Gb\\n- Disk: 10 Gb\\n\\n\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 docker\\n```\\napt update && apt upgrade -y\\napt install -y curl\\ncurl -fsSL https://get.docker.com -o get-docker.sh\\nsudo sh get-docker.sh\\n```\\n\\n\\n## 2. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 docker-compose.yaml\\n\\n\u041d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 adguard home dns docker-hub \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d \u043f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u0434\u0430 \u0441 docker run, \u043d\u043e \u043c\u043d\u0435 \u0443\u0434\u043e\u0431\u043d\u0435\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c docker compose\\n\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 docker\\n```\\ndocker run --name adguardhome\\\\\\n    --restart unless-stopped\\\\\\n    -v /my/own/workdir:/opt/adguardhome/work\\\\\\n    -v /my/own/confdir:/opt/adguardhome/conf\\\\\\n    -p 53:53/tcp -p 53:53/udp\\\\\\n    -p 67:67/udp -p 68:68/udp\\\\\\n    -p 80:80/tcp -p 443:443/tcp -p 443:443/udp -p 3000:3000/tcp\\\\\\n    -p 853:853/tcp\\\\\\n    -p 784:784/udp -p 853:853/udp -p 8853:8853/udp\\\\\\n    -p 5443:5443/tcp -p 5443:5443/udp\\\\\\n    -d adguard/adguardhome\\n```\\n\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u043f\u043e\u0440\u0442\u043e\u0432:\\n- `-p 53:53/tcp -p 53:53/udp`  - \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b DNS \u0441\u0435\u0440\u0432\u0435\u0440\u0430.\\n- `-p 67:67/udp -p 68:68/tcp -p 68:68/udp` - \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b DHCP \u0441\u0435\u0440\u0432\u0435\u0440\u0430\\n- `-p 80:80/tcp -p 443:443/tcp -p 443:443/udp -p 3000:3000/tcp` - \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a Web \u043f\u0430\u043d\u0435\u043b\u0438 \u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 HTTPS/DNS-over-HTTPS\\n- `-p 853:853/tcp `- \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 DNS-over-TLS\\n- `-p 784:784/udp -p 853:853/udp -p 8853:8853/udp` - \u0434\u043b\u044f DNS-over-QUIC\\n- `-p 5443:5443/tcp -p 5443:5443/udp` - \u0434\u043b\u044f DNSCrypt\\n\\n\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 docker-compose.yml\\n```docker\\nversion: \\"3.8\\"\\nservices:\\n  adguardhome:\\n    image: adguard/adguardhome:latest\\n    hostname: adguard\\n    volumes:\\n      - ./adguard/work:/opt/adguardhome/work\\n      - ./adguard/conf:/opt/adguardhome/conf\\n    ports:\\n      - 53:53/tcp\\n      - 53:53/udp\\n      - 80:80/tcp\\n      - 443:443/tcp\\n      - 443:443/udp\\n      - 3000:3000/tcp\\n    restart: unless-stopped\\n```\\n\\n\u0442.\u043a. \u043d\u0435 \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 DHCP \u0441\u0435\u0440\u0432\u0435\u0440\u0430, DNSoQUIC, DNSCrypt \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u043b \u043f\u0440\u043e\u0431\u0440\u043e\u0441 \u043d\u0435 \u043d\u0443\u0436\u043d\u044b\u0445 \u043f\u043e\u0440\u0442\u043e\u0432\\n\\n\u041d\u043e \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u043f\u043e\u0434\u043d\u044f\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440, \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0430\\n> Error starting userland proxy: listen tcp4 0.0.0.0:53: bind: address already in use\\n\\n\u0413\u043e\u0432\u043e\u0440\u0438\u0442 \u043e \u0442\u043e\u043c \u0447\u0442\u043e 53 \u043f\u043e\u0440\u0442 \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439, \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043a\u0442\u043e \u0435\u0433\u043e \u0437\u0430\u043d\u044f\u043b\\n```bash\\nlsof -i :53\\n```\\n![53 port lissten](./53-port-listen.png \\"systemd-resolved \u0437\u0430\u043d\u044f\u043b 53 \u043f\u043e\u0440\u0442\\")\\n\\n*systemd-resolved \u0437\u0430\u043d\u044f\u043b 53 \u043f\u043e\u0440\u0442*\\n\\n\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u044e \u0444\u0430\u0439\u043b, \u0433\u0434\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u044e DNSStubListener = no\\n```\\nnano /etc/systemd/resolved.conf\\n```\\n![system-resolve](./system-resolve.png \\"systemd-resolved\\")\\n\\n```\\n[Resolve]\\nDNS=127.0.0.1\\nDNSStubListener=no\\n```\\n\\n\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u044e \u0444\u0430\u0439\u043b \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e \u0441\u043b\u0443\u0436\u0431\u0443\\n```bash\\nsystemctl restart systemd-resolved.service\\n```\\n\\n\u0418 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c docker-compose\\n\\n```bash\\ndocker compose up -d\\n```\\n\\n## 3. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 AdGuard Home\\n\\n\u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430, \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u044e Web \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443\\n<http://YOUR-IP:3000/>\\n![adguard-home-docker](./adguard-home-docker.png \\"adguard-home-docker\\")\\n![adguard-dns](./adguard-dns.png \\"adguard-dns\\")\\n\\n\u0414\u0430\u043b\u0435\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c, \u0434\u0430\u043b\u0435\u0435 \u0438\u0434\u0435\u0442 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f, \u0436\u043c\u0443 \u0433\u043e\u0442\u043e\u0432\u043e. \u0418 \u043f\u0435\u0440\u0435\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c.\\n\\n\\n\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0442\u043e\u0440\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e IP \u044d\u0442\u043e\u0433\u043e \u0445\u043e\u0441\u0442\u0430 \u043a\u0430\u043a \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 DNS \u0441\u0435\u0440\u0432\u0435\u0440\\n\u0412 \u0446\u0435\u043b\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u0443\u0436\u0435 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 DNS \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440, \u0438 \u043d\u0430\u0447\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f, \u0434\u0430\u043b\u0435\u0435 \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0438\u0447\u0438.\\n\\n### \u0427\u0435\u0440\u043d\u044b\u0435 \u0441\u043f\u0438\u0441\u043a\u0438 DNS\\n\u041f\u0435\u0440\u0432\u044b\u043c \u0434\u0435\u043b\u043e\u043c \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u044e \u0447\u0435\u0440\u043d\u044b\u0435 \u0441\u043f\u0438\u0441\u043a\u0438 DNS\\n![dns-black-list](./dns-black-list.png \\"dns-black-list\\")\\n\\nC\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 URL DNS black-list, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e:\\n- AdGuard DNS - <https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt>\\n- AdAway Default Blocklist - <https://adaway.org/hosts.txt>\\n- MalwareDomainList.com - <https://www.malwaredomainlist.com/hostslist/hosts.txt>\\n\\n\u0412 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0435 \u0442\u0430\u043a \u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0431\u043e\u043b\u0435\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0435 \u0441\u043f\u0438\u0441\u043a\u0438 \u0438\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0438\\n\\n\\n### SSL \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\\n\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 -> \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f\\n![adguard-ssl](./adguard-ssl.png \\"adguard-sslt\\")\\n\\n### DNS-Over-HTTPS (DoH)\\n![adguard-dns-over-https](./adguard-dns-over-https.png \\"Adguard DNS over HTTPS DoH\\")\\n\\n\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 - \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 DNS\\nDNS Upstream \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f DNS over HTTPS, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b \u0442\u0430\u043a\u0438\u0435:\\n - <https://dns.cloudflare.com/dns-query>\\n - <https://dns-unfiltered.adguard.com/dns-query>\\n\\n\u0415\u0441\u043b\u0438 \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 **TEST Upstream** \u043d\u0435\u0442 \u043e\u0448\u0438\u0431\u043e\u043a, \u0437\u043d\u0430\u0447\u0438\u0442 \u0432\u0441\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c.\\n\\n\\n\\n**\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 DNS over HTTPS**\\n\\n\u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e \u0441\u0435\u0440\u0432\u0438\u0441 Cloudflare [1.1.1.1/help](https://1.1.1.1/help)\\n\\n![doh-test](./doh-test.png \\"Chech DNS over HTTPS\\")\\n\\n\\n**\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 DNS \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u044b**\\n\\n\u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e \u0441\u0435\u0440\u0432\u0438\u0441 [checkadblock.ru](https://checkadblock.ru/)\\n![dns-block-adds](./dns-block-adds.png \\"dns-block-adds\\")\\n\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0440\u0435\u043a\u043b\u0430\u043c\u044b\\n\\n\u041d\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u0440\u0430\u0434\u0443\u0435\u0442 \u0447\u0442\u043e \u0432 \u0447\u0435\u0440\u043d\u044b\u0435 \u0441\u043f\u0438\u0441\u043a\u0438 \u043f\u043e\u043f\u0430\u0434\u0430\u044e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0441\u0431\u043e\u0440\u0430 \u043c\u0435\u0442\u0440\u0438\u043a \u0438 \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u044d\u0442\u043e \u043d\u0430\u0433\u043b\u044f\u0434\u043d\u043e \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0432 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0435 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438\\n\\n![adguard-dns-web-gui](./adguard-dns-web-gui.png \\"adguard-dns-web-gui\\")\\n\\n\u0433\u0434\u0435 \u0432\u0438\u0434\u043d\u043e \u043a\u0430\u043a \u042f\u043d\u0434\u0435\u043a\u0441 \u0421\u0442\u0430\u043d\u0446\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e \u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043c\u0435\u0442\u0440\u0438\u043a\u0438, \u043d\u043e \u0438\u0445 \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442 DNS Server.\\n\\n\\n**\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438**\\n\\n\u0422\u0430\u043a \u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043d\u043a\u043e \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c \u0438\u0445 \u043f\u043e \u0433\u0440\u0443\u043f\u043f\u0430\u043c \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438, \u0440\u0443\u0447\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 DNS, \u0431\u0435\u043b\u044b\u0435 \u0441\u043f\u0438\u0441\u043a\u0438, \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442 18+ \u0438 \u0442.\u0434.\\n\\n**\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432**\\n\\n![dns-block-service](./dns-block-service.png \\"dns-block-service\\")\\n\\n\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0431\u044b\u0441\u0442\u0440\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0441\u0430\u0439\u0442\u044b \u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u044b.\\n\\n## \u0418\u0442\u043e\u0433\u0438\\n\\n\u041e\u0447\u0435\u043d\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442, \u043c\u043d\u0435 \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0441\u0430\u043c\u044b\u0439 \u043b\u0443\u0447\u0448\u0438\u0439 DNS \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0442\u0430\u043a \u0436\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044f \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u0432 \u0448\u043a\u043e\u043b\u0430\u0445 \u0438 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f\u0445 (\u0434\u043b\u044f \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043d\u043e\u043c\u0443 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0443) \u0438 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0445 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f\u0445 (\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043c\u0430\u043b\u043e\u0433\u043e \u043e\u0444\u0438\u0441\u0430 \u0434\u043b\u044f \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0440\u0435\u043a\u043b\u0430\u043c\u044b \u0438 \u043e\u0442\u0432\u043b\u0435\u043a\u0430\u044e\u0449\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432)\\n\u041f\u0440\u043e\u0441\u0442\u043e\u0442\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438, \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f."},{"id":"cache-server","metadata":{"permalink":"/blog/cache-server","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/cache-server/index.md","source":"@site/blog/cache-server/index.md","title":"Cache Server \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430","description":"\u0421\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430. Cache Server \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0440\u0430\u0437\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043a\u0430\u043d\u0430\u043b \u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438","date":"2019-07-12T00:00:00.000Z","formattedDate":"12 \u0438\u044e\u043b\u044f 2019 \u0433.","tags":[{"label":"docker","permalink":"/blog/tags/docker"},{"label":"linux","permalink":"/blog/tags/linux"},{"label":"networks","permalink":"/blog/tags/networks"}],"readingTime":2.57,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"cache-server","title":"Cache Server \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430","description":"\u0421\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430. Cache Server \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0440\u0430\u0437\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043a\u0430\u043d\u0430\u043b \u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438","image":"./logo-lan-cache-server.png","tags":["docker","linux","networks"],"keywords":["cache","cache-server","docker","linux"],"date":"2019-07-12T00:00:00.000Z"},"prevItem":{"title":"Adguard Home","permalink":"/blog/adguard-home"},"nextItem":{"title":"RDP wrapper","permalink":"/blog/rdp-wrapper"}},"content":"\u0421\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430. Cache Server \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0440\u0430\u0437\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043a\u0430\u043d\u0430\u043b \u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438\\n\\n[![lan cache server](./logo-lan-cache-server.png)](/blog/cache-server)\\n\x3c!--truncate--\x3e\\n## CACHE SERVER - \u0421\u0435\u0440\u0432\u0435\u0440 \u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\\n## \u0421\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430\\n\\n## \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435\\n\\n\u041e\u0434\u0438\u043d \u0438\u0437 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u0445 \u043a\u043b\u0443\u0431\u043e\u0432 \u043f\u0440\u043e\u0441\u0438\u043b \u043f\u043e\u043c\u043e\u0447\u044c \u043e\u0442\u043b\u0430\u0434\u0438\u0442\u044c \u0441\u0435\u0442\u044c, \u0442\u0430\u043a \u043a\u0430\u043a \u043f\u043e\u044f\u0432\u0438\u043b\u0438\u0441\u044c \u0436\u0430\u043b\u043e\u0431\u044b \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u0447\u0442\u043e \xab\u0442\u043e\u0440\u043c\u043e\u0437\u0438\u0442 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442, \u043f\u0438\u043d\u0433\u0438 \u0441\u043a\u0430\u0447\u0443\u0442, \u0432\u0440\u0435\u043c\u0435\u043d\u0430\u043c\u0438 \u043b\u0430\u0433\u0430\u0435\u0442\xbb. \u0411\u044b\u043b\u043e \u0432\u044b\u044f\u0432\u043b\u0435\u043d\u043e, \u0447\u0442\u043e \u0442\u0430\u043a\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u0438 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043a\u0430\u043d\u0430\u043b\u0430, \u043f\u0440\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0438 \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0438\u0433\u0440. \u0411\u043e\u043b\u0435\u0435 30 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043e\u0432 \u0432 \u043a\u043b\u0443\u0431\u0435.\\n\\n\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0442\u043e\u0440 Mikrotik, \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u043b\u0438 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0438\u0437\u0430\u0446\u0438\u044e \u0442\u0440\u0430\u0444\u0438\u043a\u0430, \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0443\u0448\u043b\u0430.\\n\\n\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0441\u0435\u0442\u0438, \u0443\u0432\u0438\u0434\u0435\u043b\u0438, \u0447\u0442\u043e \u0431\u043e\u043b\u044c\u0448\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0442\u0440\u0430\u0444\u0438\u043a\u0430 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043a\u0430\u0436\u0434\u044b\u0439 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430. \u0418\u0433\u0440 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e, \u043c\u043d\u043e\u0433\u0438\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f  \u0438\u043c\u0435\u044e\u0442 \u043d\u0435 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439 \u043e\u0431\u044a\u0435\u043c.\\n\\n## \u0417\u0430\u0434\u0430\u0447\u0430\\n\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043b\u043e\u0441\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u0437\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438. \u041a\u043e\u0433\u0434\u0430 \u043f\u0435\u0440\u0432\u044b\u0439 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440 \u0432 \u0441\u0435\u0442\u0438 \u0441\u043a\u0430\u0447\u0430\u0435\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f, \u044d\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0441\u0442\u0430\u043d\u0443\u0442\u0441\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435. \u0412 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c \u0434\u0440\u0443\u0433\u0438\u0435 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u044e\u0442 \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0435 \u0436\u0435 \u0441\u0430\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b, \u043f\u043e\u043b\u0443\u0447\u0430\u0442 \u0438\u0445 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u0438 \u043d\u0435 \u043d\u0430\u0433\u0440\u0443\u0436\u0430\u044f \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043a\u0430\u043d\u0430\u043b.\\n\\n![cache-server-shema](./cache-server-shema.png)\\n\\n\\n## \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\\n### \u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435\\n\\n\u0411\u0443\u0434\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0438\u0437 \u0438\u043c\u0435\u044e\u0449\u0438\u0445\u0441\u044f \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u041f\u041a \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.\\n\\n- CPU \u2014 Intel i3-10100\\n- RAM \u2014 8Gb\\n- SSD 120 Gb \u2014 \u043f\u043e\u0434 \u041e\u0421\\n- NVMe A-Data 1Tb \u2014 \u043f\u043e\u0434 \u043a\u044d\u0448\\n\\n\u041f\u043e\u0434 \u043a\u044d\u0448 \u043d\u0443\u0436\u0435\u043d \u0431\u044b\u0441\u0442\u0440\u044b\u0439 NVMe \u0434\u0438\u0441\u043a, \u043d\u0430 \u043d\u0430\u0434\u0435\u0436\u043d\u043e\u0441\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u043d\u0435 \u043e\u0431\u0440\u0430\u0449\u0430\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u0442.\u043a. \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u043c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442.\\n\\n\u0422\u0430\u043a \u0436\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0433\u0438\u0433\u0430\u0431\u0438\u0442\u043d\u043e\u0439 \u0441\u0435\u0442\u0438 \u0432 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u043c \u043a\u043b\u0443\u0431\u0435, \u0438\u043d\u0430\u0447\u0435 \u043e\u0441\u043e\u0431\u043e \u044d\u0444\u0444\u0435\u043a\u0442\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442. (1Gb \u043f\u043e\u0440\u0442\u044b \u043d\u0430 \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0442\u043e\u0440\u0430\u0445)\\n\\n### \u041e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430\\n\\n\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u044e\u0431\u0443\u044e \u041e\u0421 Linux \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e \u0434\u0443\u0448\u0435. \u041c\u043d\u0435 \u0432 \u043f\u043b\u0430\u043d\u0435 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0443\u0434\u043e\u0431\u043d\u0435\u0435 \u0441\u0440\u0430\u0437\u0443 \u0436\u0435 \u043d\u0430\u043a\u0430\u0442\u0438\u0442\u044c Proxmox, \u0442\u0430\u043a \u0436\u0435 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0430\u0441 \u0434\u043b\u044f \u0431\u0443\u0434\u0443\u0449\u0438\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432.\\n\\n### Linux Container\\nLXC \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0434\u043b\u044f \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438. Ubuntu 21.04 template.\\n\\n\u0410 \u0432\u043d\u0443\u0442\u0440\u0438 \u043d\u0435\u0433\u043e \u0443\u0436\u0435 \u0434\u043e\u043a\u0435\u0440\\n\\n```\\napt-get update && apt-get upgrade -y\\napt-get install net-tools\\napt-get install docker.io -y\\napt-get install docker-compose\\n\\nsystemctl enable docker\\nsystemctl start docker\\n\\nreboot\\nsystemctl status docker  \\n```\\n\\n## CACHE SERVER\\nGAME CACHE SERVER\\n\\n\u0415\u0441\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u0434\u043b\u044f \u044d\u0442\u0438\u0445 \u0446\u0435\u043b\u0435\u0439 \u043e\u0442 [LANCACHE.NET](https://lancache.net/)\\n```\\ngit clone https://github.com/lancachenet/docker-compose lancache\\ncd lancache\\nnano .env\\n```\\n\\n\u0424\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\n![cache-server-config](./cache-server-config.png)\\n\\n- LANCACHE_IP - a\u0434\u0440\u0435\u0441 LXC\\n- DNS_BIND_IP - a\u0434\u0440\u0435\u0441 LXC\\n- \u0421ACHE_DISK_SIZE - \u0420\u0430\u0437\u043c\u0435\u0440 \u0434\u0438\u0441\u043a\u0430 \u043f\u043e\u0434 \u043a\u044d\u0448 \\n- NVMe TZ (time zone) \u2014 Asia/Yekaterinburg\\n  \\n\\n\u0417\u0430\u043f\u0443\u0441\u043a\\n\\n```\\ndocker-compose up -d\\ndocker stats\\n```\\n\\n\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e 2 \u0441\u0435\u0440\u0432\u0438\u0441\u0430. DNS \u0438 Cache\\n![cache-server-stats](./cache-server-stats.png)\\n\\n## \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\\n\\n\u041d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 IP \u0430\u0434\u0440\u0435\u0441\u0430, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u044e DNS Server, \u043c\u0435\u043d\u044f\u044e \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 \u043d\u0430\u0448\u0435\u0433\u043e LXC \u0441\u0435\u0440\u0432\u0435\u0440\u0430.\\n\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435 \u0438\u0433\u0440\u044b \u0441 \u043b\u044e\u0431\u043e\u0433\u043e \u041f\u041a \u0438 \u043f\u0440\u043e\u0431\u0443\u044e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u044d\u0442\u0443 \u0436\u0435 \u0438\u0433\u0440\u0443 \u0441 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u041f\u041a.\\n![compare-game-cacheserver](./compare-game-cacheserver.png)\\n\\n\\n\u0414\u043b\u044f \u043d\u0430\u0433\u043b\u044f\u0434\u043d\u043e\u0433\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f.\\n\\n- \u0421 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430 \u2014 10 \u041c\u0431\u0430\u0439\u0442/c (80 \u041c\u0431\u0438\u0442/c)\\n- \u0421 \u043a\u044d\u0448 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u2014 80 \u041c\u0431\u0430\u0439\u0442/c (640 \u041c\u0431\u0438\u0442/c)\\n\\n![NFS-hot-gaming-lounge](./NFS-hot-gaming-lounge.png)\\n\\n\u0417\u0434\u0435\u0441\u044c \u0443\u0436\u0435 \u0443\u043f\u0438\u0440\u0430\u044e\u0441\u044c \u0432 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u043d\u0443\u044e \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0441\u0435\u0442\u0438 \u0438 \u0434\u0438\u0441\u043a\u043e\u0432 \u043d\u0430 \u041f\u041a\\n\\n\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e 1 \u0413\u0431 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u043e \u0449\u0435\u043b\u0447\u043a\u0443 \u043f\u0430\u043b\u044c\u0446\u0435\u0432.\\n\\n\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a \u0434\u043e\u0432\u043e\u043b\u0435\u043d \u0442\u0435\u0441\u0442\u044b \u043f\u0440\u043e\u0448\u043b\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e.\\n\\n## \u0418\u0442\u043e\u0433\u0438\\n\u041f\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u043a\u044d\u0448 \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430 \u0434\u0430\u0435\u0442 \u043e\u0449\u0443\u0442\u0438\u043c\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0438 \u0441\u0438\u043b\u044c\u043d\u043e \u0440\u0430\u0437\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043a\u0430\u043d\u0430\u043b.\\n\\n\u0417\u0430\u0447\u0435\u043c \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u043e\u0434\u043d\u0438 \u0438 \u0442\u0435 \u0436\u0435 \u0444\u0430\u0439\u043b\u044b \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430 \u0435\u0441\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u0436\u0435\u0442 \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0438 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u0441\u044f \u043f\u043e \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438.\\n\\n![cache-server-shema](./cache-server-shema-2.png)\\n![cache-server-shema](./cache-server-shema-3.png)\\n\\n## P.S.\\n\\n\u0421\u0442\u0430\u0442\u044c\u044f \u0441\u0442\u0430\u0440\u0430\u044f, \u0434\u0430\u0432\u043d\u043e \u043d\u0430 \u0434\u0435\u043b\u0435 \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u043b, \u0441\u0430\u043c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u043e\u0436\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0441\u044f \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043b\u0443\u0447\u0448\u0435 \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 [Github \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443](https://github.com/lancachenet/docker-compose) \u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043d\u0430 \u043e\u0444\u0444.\u0441\u0430\u0439\u0442\u0435"},{"id":"rdp-wrapper","metadata":{"permalink":"/blog/rdp-wrapper","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/rdpwrap/index.md","source":"@site/blog/rdpwrap/index.md","title":"RDP wrapper","description":"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 RDP wrapper, \u043a\u0430\u043a \u0435\u0433\u043e \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c, \u043a\u0440\u0430\u0442\u043a\u0430\u044f \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0441\u0442\u043e\u043b\u0430","date":"2019-06-21T00:00:00.000Z","formattedDate":"21 \u0438\u044e\u043d\u044f 2019 \u0433.","tags":[{"label":"rdp","permalink":"/blog/tags/rdp"},{"label":"windows","permalink":"/blog/tags/windows"},{"label":"server","permalink":"/blog/tags/server"}],"readingTime":1.975,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"rdp-wrapper","title":"RDP wrapper","description":"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 RDP wrapper, \u043a\u0430\u043a \u0435\u0433\u043e \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c, \u043a\u0440\u0430\u0442\u043a\u0430\u044f \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0441\u0442\u043e\u043b\u0430","image":"./logo-rdpwrap.png","tags":["rdp","windows","server"],"keywords":["rdp","windows","server","wrapper","rdp-wrapper"],"date":"2019-06-21T00:00:00.000Z"},"prevItem":{"title":"Cache Server \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043b\u0443\u0431\u0430","permalink":"/blog/cache-server"},"nextItem":{"title":"First test post","permalink":"/blog/test-post"}},"content":"\u0414\u043b\u044f \u0447\u0435\u0433\u043e \u043d\u0443\u0436\u0435\u043d RDP wrapper \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u043a\u0430\u043a \u0435\u0433\u043e \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c, \u043a\u0440\u0430\u0442\u043a\u0430\u044f \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0441\u0442\u043e\u043b\u0430\\n\\n[![rdp wrapper](./logo-rdpwrap.png)](/blog/rdp-wrapper)\\n\x3c!--truncate--\x3e\\n\\n## \u0414\u043b\u044f \u0447\u0435\u0433\u043e \u043d\u0443\u0436\u0435\u043d RDP wrapper?\\n### \u041f\u0440\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 RDP\\n\\nRDP (Remote Desktop Protocol) \u2014 \u0434\u043e\u0441\u043b\u043e\u0432\u043d\u043e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b \u0423\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0420\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0421\u0442\u043e\u043b\u0430. \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0441\u044f \u043a \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0443 \u043f\u043e IP \u0430\u0434\u0440\u0435\u0441\u0443 \u0441 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430.  \\n\\n\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0443 RDP \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043c\u0435\u0436\u0434\u0443 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430\u043c\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u043c\u0438\u0441\u044f \u0432 \u043e\u0434\u043d\u043e\u0439 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438, \u0438\u043b\u0438 \u043f\u043e \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443, \u043d\u043e \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u2013 \u043f\u0440\u043e\u0431\u0440\u043e\u0441 \u043f\u043e\u0440\u0442\u0430 3389 \u043d\u0430 \u0440\u043e\u0443\u0442\u0435\u0440\u0435, \u043b\u0438\u0431\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043e\u043c \u043f\u043e VPN.\\n\\n\u0414\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u0440\u0430\u0431\u043e\u0447\u0435\u043c\u0443 \u0441\u0442\u043e\u043b\u0443 , \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u2014 \u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430 \u2014 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u2014  \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f\\n\\n![access rdp](./access_rdp.png)\\n\\n- **Windows 10 Home** \u2014 \u0434\u0430\u043d\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430\\n- **Windows 10 Pro** \u2014 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0434 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c\\n- **Windows Server** \u2014 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0442\u044c\u0441\u044f \u0441\u0440\u0430\u0437\u0443 \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432, \u043f\u043e\u0434 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438 \u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e.\\n\\n\u041f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0430, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u044b, \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430, \u0434\u0438\u0441\u043a\u0438, \u043f\u043e\u0440\u0442\u044b, \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0437\u0430\u0445\u0432\u0430\u0442\u0430. \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u044d\u0442\u043e\u043c\u0443 \u0447\u0430\u0441\u0442\u043e \u0432 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f\u0445 \u0441\u0442\u0430\u0432\u044f\u0442 \u043c\u043e\u0449\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440, \u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0434\u0430\u044e\u0442 \u043c\u043e\u043d\u0438\u0442\u043e\u0440 \u0441 \u043c\u044b\u0448\u043a\u043e\u0439, \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u043e\u0439 \u0438 \u0441\u043b\u0430\u0431\u0435\u043d\u044c\u043a\u0438\u0439 \u041f\u041a \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0442\u043e\u043d\u043a\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043b\u0443\u0436\u0438\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u041f\u0440\u0438 \u044d\u0442\u043e\u043c \u0432\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435.\\n\\n![nuc-monitor](./nuc-monitor.png \\"\u0442\u043e\u043d\u043a\u0438\u0439 \u043a\u043b\u0438\u0435\u043d\u0442\\")\\n\\n\u0422\u0430\u043a \u0436\u0435 RDP \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 1\u0421 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445\\n\\n### \u041e RDPwrapper\\n\\n\u0411\u044b\u043b\u0430 \u0442\u0430\u043a\u0430\u044f \u0440\u0435\u043f\u0430 \u043d\u0430 Github <https://github.com/stascorp/rdpwrap>.\\n\u0426\u0435\u043b\u044c \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 - \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u0445\u043e\u0441\u0442\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0441\u0442\u043e\u043b\u0430 \u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0441\u0435\u0430\u043d\u0441\u044b RDP \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e \u0434\u043b\u044f \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f.\\n\\n\u0442.\u0435. \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 RDP \u043a\u0430\u043a \u0432 Windows Server, \u0447\u0442\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435\u043c \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 \u0438 \u0434\u0435\u043b\u0430\u0442\u044c \u0442\u0430\u043a\u043e\u0435 \u043d\u0435\u043b\u044c\u0437\u044f. \u0414\u0430\u043b\u0435\u0435 \u0432 \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0446\u0435\u043b\u044f\u0445\\n\\n\\n\\n\\n## \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\\n\\n1. \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0430\u043d\u0442\u0438\u0432\u0438\u0440\u0443\u0441, \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443 C:\\\\Program Files\\\\RDP Wrapper \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u0432 \u0438\u0441\u043b\u044e\u0447\u0435\u043d\u0438\u0435\\n\\n2. \u0421\u043a\u0430\u0447\u0430\u0442\u044c RDP Wrapper <https://github.com/stascorp/rdpwrap/releases/download/v1.6.2/RDPWrap-v1.6.2.zip> \u0438 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u0442\u044c \u0432 \u0440\u0430\u043d\u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u0443\u044e \u043f\u0430\u043f\u043a\u0443\\n3. \u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0444\u0430\u0439\u043b [autoupdate.bat](https://t.me/rdpwrap/31497) \u0438 \u0440\u0430\u0441\u043f\u043e\u043a\u0432\u0430\u0442\u044c \u0432 \u0442\u0443 \u0436\u0435 \u043f\u0430\u043f\u043a\u0443 \u0441 RDP Wrapper\\n4. \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c run autoupdate.bat \u043e\u0442 \u0438\u043c\u0435\u043d\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430\\n5. \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c\\n6. \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c\\n\\n![rdp wrap](./rdp_wrap2-1.png \\"rdp wrap\\")\\n\\n## \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\\n\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c Windows)\\n![rdp_wrap_user](./rdp_wrap_user.png \\"rdp create user\\")\\n\\n\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \xab\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0441\u0442\u043e\u043b\u0430\xbb\\n\\n![rdp_wrap_group](./rdp_wrap_group.png \\"rdp create user\\")\\n\\n\u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u0441\u043f\u043e\u043a\u0439\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0439 \u041f\u041a \u0438 \u0435\u0433\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439\\n\\n\u041f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 Windows \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0444\u0430\u0439\u043b autoupdate.bat\\n\\n\u0421\u0430\u043c\u043e\u0435 \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432, \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0439 \u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u043f\u043e \u0434\u0430\u043d\u043d\u043e\u0439 \u0442\u0435\u043c\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c\u043c \u0433\u0440\u0443\u043f\u043f\u0435 <https://t.me/rdpwrap>"},{"id":"test-post","metadata":{"permalink":"/blog/test-post","editUrl":"https://github.com/akmalovaa/akmalov.com/tree/main/blog/test-post.md","source":"@site/blog/test-post.md","title":"First test post","description":"This is the summary of a very long blog post,","date":"2017-09-13T10:00:00.000Z","formattedDate":"13 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2017 \u0433.","tags":[{"label":"kubernetes","permalink":"/blog/tags/kubernetes"}],"readingTime":0.305,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"test-post","title":"First test post","tags":["kubernetes"],"date":"2017-09-13T10:00"},"prevItem":{"title":"RDP wrapper","permalink":"/blog/rdp-wrapper"}},"content":"This is the summary of a very long blog post,\\n\\nUse a `\x3c!--` `truncate` `--\x3e` comment to limit blog post size in the list view.\\n\\n\x3c!--truncate--\x3e\\n\\nBlog posts support [Docusaurus Markdown features](https://docusaurus.io/docs/markdown-features), such as [MDX](https://mdxjs.com/).\\n\\n:::tip\\n\\nUse the power of React to create interactive blog posts.\\n\\n```js\\n<button onClick={() => alert(\'button clicked!\')}>Click me!</button>\\n```\\n\\n<button onClick={() => alert(\'button clicked!\')}>Click me!</button>\\n\\n:::"}]}')}}]);