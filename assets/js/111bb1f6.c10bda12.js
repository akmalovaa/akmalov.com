"use strict";(self.webpackChunkakmalov_com=self.webpackChunkakmalov_com||[]).push([[8337],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>k});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),m=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=m(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=m(a),g=n,k=c["".concat(s,".").concat(g)]||c[g]||u[g]||o;return a?r.createElement(k,l(l({ref:t},p),{},{components:a})):r.createElement(k,l({ref:t},p))}));function k(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,l=new Array(o);l[0]=g;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:n,l[1]=i;for(var m=2;m<o;m++)l[m]=a[m];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}g.displayName="MDXCreateElement"},3302:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>m});var r=a(7462),n=(a(7294),a(3905));const o={slug:"monitoring-web-hosts",title:"Monitoring web hosts",description:"monitoring web ssl certificate expried uptime kuma grafana prometheus docker",image:"./monitoring-web-hosts-logo.png",tags:["monitoring","grafana","ssl","telegram","prometheus","docker"],date:"2023-07-13T10:42"},l=void 0,i={permalink:"/blog/monitoring-web-hosts",editUrl:"https://github.com/akmalovaa/akmalov.com/tree/main/blog/monitoring-web-hosts/index.md",source:"@site/blog/monitoring-web-hosts/index.md",title:"Monitoring web hosts",description:"monitoring web ssl certificate expried uptime kuma grafana prometheus docker",date:"2023-07-13T10:42:00.000Z",formattedDate:"13 \u0438\u044e\u043b\u044f 2023 \u0433.",tags:[{label:"monitoring",permalink:"/blog/tags/monitoring"},{label:"grafana",permalink:"/blog/tags/grafana"},{label:"ssl",permalink:"/blog/tags/ssl"},{label:"telegram",permalink:"/blog/tags/telegram"},{label:"prometheus",permalink:"/blog/tags/prometheus"},{label:"docker",permalink:"/blog/tags/docker"}],readingTime:2.26,hasTruncateMarker:!0,authors:[],frontMatter:{slug:"monitoring-web-hosts",title:"Monitoring web hosts",description:"monitoring web ssl certificate expried uptime kuma grafana prometheus docker",image:"./monitoring-web-hosts-logo.png",tags:["monitoring","grafana","ssl","telegram","prometheus","docker"],date:"2023-07-13T10:42"},prevItem:{title:"Auto wildcard cert service",permalink:"/blog/wildcard-ssl-cert"},nextItem:{title:"Docusaurus \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",permalink:"/blog/docusaurus-comments"}},s={image:a(6009).Z,authorsImageUrls:[]},m=[{value:"Uptime-kuma",id:"uptime-kuma",level:2},{value:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430",id:"\u0441\u0435\u0440\u0432\u0435\u0440-\u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430",level:2},{value:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",id:"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",level:3},{value:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b",id:"\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435-\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b",level:3},{value:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Alertmanager telegram",id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438-alertmanager-telegram",level:4},{value:"Bot token",id:"bot-token",level:5},{value:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c Chat ID telegram",id:"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c-chat-id-telegram",level:5},{value:"docker-compose",id:"docker-compose",level:4}],p={toc:m},c="wrapper";function u(e){let{components:t,...o}=e;return(0,n.kt)(c,(0,r.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"self-hosted \u0441\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0445\u043e\u0441\u0442\u043e\u0432, \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f SSL \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u0441 \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f\u043c\u0438 \u0432 telegram"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/blog/monitoring-web-hosts"},(0,n.kt)("img",{alt:"Monitoring web hosts",src:a(6009).Z,width:"1500",height:"500"}))),(0,n.kt)("h2",{id:"uptime-kuma"},"Uptime-kuma"),(0,n.kt)("p",null,"\u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u0435\u043d \u0441\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0445\u043e\u0441\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u043d\u044f\u0442\u044c \u0443 \u0441\u0435\u0431\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u043e\u0449\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c ",(0,n.kt)("inlineCode",{parentName:"p"},"Uptime-Kuma")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/louislam/uptime-kuma"},"Uptime-Kuma")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Uptime-Kuma",src:a(4104).Z,width:"1024",height:"641"})),(0,n.kt)("p",null,"\u0413\u043b\u0430\u0432\u043d\u044b\u0435 \u0444\u0438\u0448\u043a\u0438:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 HTTP(s) / TCP / HTTP(s) Keyword / HTTP(s) Json Query / Ping / DNS "),(0,n.kt)("li",{parentName:"ul"},"\u041b\u0435\u043a\u0433\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432 docker-compose"),(0,n.kt)("li",{parentName:"ul"},"\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0438 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0439 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 "),(0,n.kt)("li",{parentName:"ul"},"\u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u0432 Telegram, Discord, Slack, Email (SMTP) \u0438 \u0442.\u0434. "),(0,n.kt)("li",{parentName:"ul"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0435 (SSL Certificate info)"),(0,n.kt)("li",{parentName:"ul"},"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 Proxy \u0438 2FA")),(0,n.kt)("p",null,"\u041f\u0440\u0438 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c\u044e, Uptime-Kuma \u0431\u044b\u0441\u0442\u0440\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0442\u0430\u043a\u0438\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b, \u043a\u0430\u043a Telegram, Discord \u0438 Slack. "),(0,n.kt)("p",null,"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0433\u0440\u0430\u0444\u0438\u043a\u0438 \u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u0447\u0438\u043d \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c\u044e, \u043f\u043e\u043c\u043e\u0433\u0430\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0441\u0432\u043e\u0435\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0443\u043b\u0443\u0447\u0448\u0430\u0442\u044c \u0441\u0432\u043e\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u044b. "),(0,n.kt)("p",null,"\u0412 \u0446\u0435\u043b\u043e\u043c, Uptime-Kuma - \u044d\u0442\u043e \u043d\u0435\u0437\u0430\u043c\u0435\u043d\u0438\u043c\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0442\u0435\u0445, \u043a\u0442\u043e \u0445\u043e\u0447\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u043c \u0432 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0435 \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0441\u0432\u043e\u0438\u0445 \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432."),(0,n.kt)("h2",{id:"\u0441\u0435\u0440\u0432\u0435\u0440-\u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430"},"\u0421\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430"),(0,n.kt)("p",null,"\u0415\u0441\u043b\u0438 \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0442\u044d\u043a \u0434\u043b\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 Promeheus + Grafana \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0432\u0430\u0442\u044c\u0441\u044f blackbox exporter \u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0443\u0434\u043e\u0431\u043d\u044b\u0439 Dashboard \u0434\u043b\u044f \u0441\u0435\u0431\u044f. \u041e\u0431 \u044d\u0442\u043e\u043c \u0441\u0435\u0439\u0447\u0430\u0441 \u0438 \u0431\u0443\u0434\u0443 \u043f\u0438\u0441\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0445\u043e\u0441\u0442\u043e\u0432 \u0438 \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044f \u0441\u0440\u043e\u043a\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f SSL-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430")),(0,n.kt)("p",null,(0,n.kt)("a",{target:"_blank",href:a(38).Z},(0,n.kt)("img",{alt:"Grafana ssl certificate expires",src:a(6418).Z,width:"1872",height:"470"}))),(0,n.kt)("p",null,"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Prometheus (\u0441\u0431\u043e\u0440 \u0438 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445)"),(0,n.kt)("li",{parentName:"ul"},"Grafana (\u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445)"),(0,n.kt)("li",{parentName:"ul"},"Blackbox (\u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 http)"),(0,n.kt)("li",{parentName:"ul"},"Alertmanager (\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f)")),(0,n.kt)("h3",{id:"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430"},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430"),(0,n.kt)("p",null,"\u0421\u0430\u043c \u043f\u0440\u043e\u0435\u043a\u0442 \u043d\u0430 ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/akmalovaa/monitoring-hosts-cert/tree/main"},"Github monitoring hosts")),(0,n.kt)("p",null,"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f docker-compose \ud83d\udc33"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/akmalovaa/monitoring-hosts-cert.git\ncd monitoring-hosts-cert\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0435 \u0445\u043e\u0441\u0442\u044b ",(0,n.kt)("inlineCode",{parentName:"p"},"/prometheus/prometheus.yml"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c ",(0,n.kt)("inlineCode",{parentName:"p"},"/alertmanager/config.yml"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u0434\u043b\u044f \u0433\u0440\u0430\u0444\u0430\u043d\u044b:"))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"chmod -R 777 data/grafana/\n")),(0,n.kt)("p",null,"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u044b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose up -d\n")),(0,n.kt)("p",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u044b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose ps\n")),(0,n.kt)("p",null,"Telegram \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f:\n",(0,n.kt)("img",{alt:"telegram alertmanager",src:a(7402).Z,width:"805",height:"378"})),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435-\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Grafana labs - ",(0,n.kt)("a",{parentName:"p",href:"https://grafana.com/grafana/dashboards/13230-certificate-monitor/"},"Dashboard"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Grafana blog - ",(0,n.kt)("a",{parentName:"p",href:"https://grafana.com/blog/2020/11/25/how-we-eliminated-service-outages-from-certificate-expired-by-setting-up-alerts-with-grafana-and-prometheus/"},"Post SSL alerting"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Github Prometheus, Grafana, blackbox, alertmanager + caddy - ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/stefanprodan/dockprom/tree/master"},"docker-compose example")))),(0,n.kt)("h4",{id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438-alertmanager-telegram"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Alertmanager telegram"),(0,n.kt)("h5",{id:"bot-token"},"Bot token"),(0,n.kt)("p",null,"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0431\u043e\u0442\u0430 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043a\u043b\u044e\u0447 API \u0431\u043e\u0442\u0430 \u0432 \u043a\u0430\u043d\u0430\u043b\u0435 ",(0,n.kt)("a",{parentName:"p",href:"https://t.me/BotFather"},"BotFather")),(0,n.kt)("h5",{id:"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c-chat-id-telegram"},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c Chat ID telegram"),(0,n.kt)("p",null,"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0430\u0440\u0443 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0431\u043e\u0442\u0443, \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"curl https://api.telegram.org/bot<TOKEN>/getUpdates | jq\n")),(0,n.kt)("h4",{id:"docker-compose"},"docker-compose"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"version: \"3.7\"\nservices:\n  prometheus:\n    container_name: prometheus\n    image: prom/prometheus:v2.46.0\n    command:\n      - '--config.file=/etc/prometheus/prometheus.yml'\n      - '--storage.tsdb.path=/prometheus'\n      - '--web.console.libraries=/etc/prometheus/console_libraries'\n      - '--web.console.templates=/etc/prometheus/consoles'\n      - '--storage.tsdb.retention.time=30d'\n      - '--web.enable-lifecycle'\n    user: root\n    ports:\n    - 9090:9090\n    volumes:\n    - ./prometheus:/etc/prometheus/\n    - ./data/prometheus:/prometheus/\n    restart: unless-stopped\n    environment:\n     - TZ=\"Asia/Yekaterinburg\"\n\n  blackbox:\n    container_name: blackbox\n    image: prom/blackbox-exporter:v0.24.0\n    command:\n      - '--config.file=/config/blackbox.yml'\n    ports:\n      - 9115:9115\n    restart: unless-stopped\n    volumes:\n      - ./blackbox:/config\n  \n  alertmanager:\n    container_name: alertmanager\n    image: prom/alertmanager:v0.25.0\n    command:\n      - '--config.file=/etc/alertmanager/config.yml'\n      - '--storage.path=/alertmanager'\n    ports:\n      - 9093:9093\n    volumes:\n      - ./alertmanager:/etc/alertmanager/\n    restart: unless-stopped\n\n  grafana:\n    container_name: grafana\n    image: grafana/grafana:10.0.3-ubuntu\n    depends_on:\n      - prometheus\n    ports:\n      - 3000:3000\n    volumes:\n      - ./data/grafana:/var/lib/grafana\n      - ./grafana/dashboards:/etc/grafana/provisioning/dashboards\n      - ./grafana/datasources:/etc/grafana/provisioning/datasources\n    restart: unless-stopped\n    environment:\n      - GF_SECURITY_ADMIN_USER=${ADMIN_USER:-admin}\n      - GF_SECURITY_ADMIN_PASSWORD=${ADMIN_PASSWORD:-admin}\n      - GF_USERS_ALLOW_SIGN_UP=false\n      - TZ=\"Asia/Yekaterinburg\"\n")))}u.isMDXComponent=!0},38:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/files/grafana-ssl-certificate-expires-694b82ef0991ebbc6730e8e1f0dae8d2.png"},6418:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/grafana-ssl-certificate-expires-694b82ef0991ebbc6730e8e1f0dae8d2.png"},6009:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/monitoring-web-hosts-logo-b1ba2ab5f07b6e69140fa7c31431038e.png"},7402:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/telegram-alertmanager-1f0e17b64f4d7e7240786c611a44877d.png"},4104:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/uptime-kuma-87329102b96002a5c3aa7e6720f8c9e7.jpg"}}]);