"use strict";(self.webpackChunkakmalov_com=self.webpackChunkakmalov_com||[]).push([[8337],{2611:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var r=a(5893),s=a(1151);const t={slug:"monitoring-web-hosts",title:"Monitoring web hosts",description:"monitoring web ssl certificate expried uptime kuma grafana prometheus docker",image:"./monitoring-web-hosts-logo.png",tags:["monitoring","ssl","docker"],keywords:["monitoring","grafana","ssl","telegram","prometheus","docker"],date:"2023-07-13T10:42"},i=void 0,o={permalink:"/blog/monitoring-web-hosts",editUrl:"https://github.com/akmalovaa/akmalov.com/tree/main/blog/monitoring-web-hosts/index.md",source:"@site/blog/monitoring-web-hosts/index.md",title:"Monitoring web hosts",description:"monitoring web ssl certificate expried uptime kuma grafana prometheus docker",date:"2023-07-13T10:42:00.000Z",formattedDate:"13 \u0438\u044e\u043b\u044f 2023 \u0433.",tags:[{label:"monitoring",permalink:"/blog/tags/monitoring"},{label:"ssl",permalink:"/blog/tags/ssl"},{label:"docker",permalink:"/blog/tags/docker"}],readingTime:2.26,hasTruncateMarker:!0,authors:[],frontMatter:{slug:"monitoring-web-hosts",title:"Monitoring web hosts",description:"monitoring web ssl certificate expried uptime kuma grafana prometheus docker",image:"./monitoring-web-hosts-logo.png",tags:["monitoring","ssl","docker"],keywords:["monitoring","grafana","ssl","telegram","prometheus","docker"],date:"2023-07-13T10:42"},unlisted:!1,prevItem:{title:"Auto wildcard cert service",permalink:"/blog/wildcard-ssl-cert"},nextItem:{title:"Docusaurus \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",permalink:"/blog/docusaurus-comments"}},l={image:a(4133).Z,authorsImageUrls:[]},c=[{value:"Uptime-kuma",id:"uptime-kuma",level:2},{value:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430",id:"\u0441\u0435\u0440\u0432\u0435\u0440-\u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430",level:2},{value:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",id:"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",level:3},{value:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b",id:"\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435-\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b",level:3},{value:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Alertmanager telegram",id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438-alertmanager-telegram",level:4},{value:"Bot token",id:"bot-token",level:5},{value:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c Chat ID telegram",id:"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c-chat-id-telegram",level:5},{value:"docker-compose",id:"docker-compose",level:4}];function m(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"self-hosted \u0441\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0445\u043e\u0441\u0442\u043e\u0432, \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f SSL \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u0441 \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f\u043c\u0438 \u0432 telegram"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/blog/monitoring-web-hosts",children:(0,r.jsx)(n.img,{alt:"Monitoring web hosts",src:a(6009).Z+"",width:"1500",height:"500"})})}),"\n",(0,r.jsx)(n.h2,{id:"uptime-kuma",children:"Uptime-kuma"}),"\n",(0,r.jsxs)(n.p,{children:["\u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u0435\u043d \u0441\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0445\u043e\u0441\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u043d\u044f\u0442\u044c \u0443 \u0441\u0435\u0431\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u043e\u0449\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c ",(0,r.jsx)(n.code,{children:"Uptime-Kuma"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/louislam/uptime-kuma",children:"Uptime-Kuma"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Uptime-Kuma",src:a(4104).Z+"",width:"1024",height:"641"})}),"\n",(0,r.jsx)(n.p,{children:"\u0413\u043b\u0430\u0432\u043d\u044b\u0435 \u0444\u0438\u0448\u043a\u0438:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 HTTP(s) / TCP / HTTP(s) Keyword / HTTP(s) Json Query / Ping / DNS"}),"\n",(0,r.jsx)(n.li,{children:"\u041b\u0435\u043a\u0433\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432 docker-compose"}),"\n",(0,r.jsx)(n.li,{children:"\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0438 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u0439 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441"}),"\n",(0,r.jsx)(n.li,{children:"\u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u0432 Telegram, Discord, Slack, Email (SMTP) \u0438 \u0442.\u0434."}),"\n",(0,r.jsx)(n.li,{children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0435 (SSL Certificate info)"}),"\n",(0,r.jsx)(n.li,{children:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 Proxy \u0438 2FA"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u041f\u0440\u0438 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c\u044e, Uptime-Kuma \u0431\u044b\u0441\u0442\u0440\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0442\u0430\u043a\u0438\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b, \u043a\u0430\u043a Telegram, Discord \u0438 Slack."}),"\n",(0,r.jsx)(n.p,{children:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0433\u0440\u0430\u0444\u0438\u043a\u0438 \u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u0447\u0438\u043d \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c\u044e, \u043f\u043e\u043c\u043e\u0433\u0430\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0441\u0432\u043e\u0435\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0443\u043b\u0443\u0447\u0448\u0430\u0442\u044c \u0441\u0432\u043e\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u044b."}),"\n",(0,r.jsx)(n.p,{children:"\u0412 \u0446\u0435\u043b\u043e\u043c, Uptime-Kuma - \u044d\u0442\u043e \u043d\u0435\u0437\u0430\u043c\u0435\u043d\u0438\u043c\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0442\u0435\u0445, \u043a\u0442\u043e \u0445\u043e\u0447\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u043c \u0432 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0435 \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0441\u0432\u043e\u0438\u0445 \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432."}),"\n",(0,r.jsx)(n.h2,{id:"\u0441\u0435\u0440\u0432\u0435\u0440-\u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430",children:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430"}),"\n",(0,r.jsx)(n.p,{children:"\u0415\u0441\u043b\u0438 \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0442\u044d\u043a \u0434\u043b\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 Promeheus + Grafana \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0432\u0430\u0442\u044c\u0441\u044f blackbox exporter \u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0443\u0434\u043e\u0431\u043d\u044b\u0439 Dashboard \u0434\u043b\u044f \u0441\u0435\u0431\u044f. \u041e\u0431 \u044d\u0442\u043e\u043c \u0441\u0435\u0439\u0447\u0430\u0441 \u0438 \u0431\u0443\u0434\u0443 \u043f\u0438\u0441\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0445\u043e\u0441\u0442\u043e\u0432 \u0438 \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044f \u0441\u0440\u043e\u043a\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f SSL-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:a(38).Z+"",children:(0,r.jsx)(n.img,{alt:"Grafana ssl certificate expires",src:a(6418).Z+"",width:"1872",height:"470"})})}),"\n",(0,r.jsx)(n.p,{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prometheus (\u0441\u0431\u043e\u0440 \u0438 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445)"}),"\n",(0,r.jsx)(n.li,{children:"Grafana (\u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445)"}),"\n",(0,r.jsx)(n.li,{children:"Blackbox (\u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 http)"}),"\n",(0,r.jsx)(n.li,{children:"Alertmanager (\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430"}),"\n",(0,r.jsxs)(n.p,{children:["\u0421\u0430\u043c \u043f\u0440\u043e\u0435\u043a\u0442 \u043d\u0430 ",(0,r.jsx)(n.a,{href:"https://github.com/akmalovaa/monitoring-hosts-cert/tree/main",children:"Github monitoring hosts"})]}),"\n",(0,r.jsx)(n.p,{children:"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f docker-compose \ud83d\udc33"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/akmalovaa/monitoring-hosts-cert.git\ncd monitoring-hosts-cert\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0435 \u0445\u043e\u0441\u0442\u044b ",(0,r.jsx)(n.code,{children:"/prometheus/prometheus.yml"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c ",(0,r.jsx)(n.code,{children:"/alertmanager/config.yml"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u0434\u043b\u044f \u0433\u0440\u0430\u0444\u0430\u043d\u044b:"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"chmod -R 777 data/grafana/\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u044b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u044b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose ps\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Telegram \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f:\n",(0,r.jsx)(n.img,{alt:"telegram alertmanager",src:a(7402).Z+"",width:"805",height:"378"})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"\u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435-\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Grafana labs - ",(0,r.jsx)(n.a,{href:"https://grafana.com/grafana/dashboards/13230-certificate-monitor/",children:"Dashboard"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Grafana blog - ",(0,r.jsx)(n.a,{href:"https://grafana.com/blog/2020/11/25/how-we-eliminated-service-outages-from-certificate-expired-by-setting-up-alerts-with-grafana-and-prometheus/",children:"Post SSL alerting"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Github Prometheus, Grafana, blackbox, alertmanager + caddy - ",(0,r.jsx)(n.a,{href:"https://github.com/stefanprodan/dockprom/tree/master",children:"docker-compose example"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438-alertmanager-telegram",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Alertmanager telegram"}),"\n",(0,r.jsx)(n.h5,{id:"bot-token",children:"Bot token"}),"\n",(0,r.jsxs)(n.p,{children:["\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0431\u043e\u0442\u0430 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043a\u043b\u044e\u0447 API \u0431\u043e\u0442\u0430 \u0432 \u043a\u0430\u043d\u0430\u043b\u0435 ",(0,r.jsx)(n.a,{href:"https://t.me/BotFather",children:"BotFather"})]}),"\n",(0,r.jsx)(n.h5,{id:"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c-chat-id-telegram",children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c Chat ID telegram"}),"\n",(0,r.jsx)(n.p,{children:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u0430\u0440\u0443 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0431\u043e\u0442\u0443, \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl https://api.telegram.org/bot<TOKEN>/getUpdates | jq\n"})}),"\n",(0,r.jsx)(n.h4,{id:"docker-compose",children:"docker-compose"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"version: \"3.7\"\nservices:\n  prometheus:\n    container_name: prometheus\n    image: prom/prometheus:v2.46.0\n    command:\n      - '--config.file=/etc/prometheus/prometheus.yml'\n      - '--storage.tsdb.path=/prometheus'\n      - '--web.console.libraries=/etc/prometheus/console_libraries'\n      - '--web.console.templates=/etc/prometheus/consoles'\n      - '--storage.tsdb.retention.time=30d'\n      - '--web.enable-lifecycle'\n    user: root\n    ports:\n    - 9090:9090\n    volumes:\n    - ./prometheus:/etc/prometheus/\n    - ./data/prometheus:/prometheus/\n    restart: unless-stopped\n    environment:\n     - TZ=\"Asia/Yekaterinburg\"\n\n  blackbox:\n    container_name: blackbox\n    image: prom/blackbox-exporter:v0.24.0\n    command:\n      - '--config.file=/config/blackbox.yml'\n    ports:\n      - 9115:9115\n    restart: unless-stopped\n    volumes:\n      - ./blackbox:/config\n  \n  alertmanager:\n    container_name: alertmanager\n    image: prom/alertmanager:v0.25.0\n    command:\n      - '--config.file=/etc/alertmanager/config.yml'\n      - '--storage.path=/alertmanager'\n    ports:\n      - 9093:9093\n    volumes:\n      - ./alertmanager:/etc/alertmanager/\n    restart: unless-stopped\n\n  grafana:\n    container_name: grafana\n    image: grafana/grafana:10.0.3-ubuntu\n    depends_on:\n      - prometheus\n    ports:\n      - 3000:3000\n    volumes:\n      - ./data/grafana:/var/lib/grafana\n      - ./grafana/dashboards:/etc/grafana/provisioning/dashboards\n      - ./grafana/datasources:/etc/grafana/provisioning/datasources\n    restart: unless-stopped\n    environment:\n      - GF_SECURITY_ADMIN_USER=${ADMIN_USER:-admin}\n      - GF_SECURITY_ADMIN_PASSWORD=${ADMIN_PASSWORD:-admin}\n      - GF_USERS_ALLOW_SIGN_UP=false\n      - TZ=\"Asia/Yekaterinburg\"\n"})})]})}function d(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},38:(e,n,a)=>{a.d(n,{Z:()=>r});const r=a.p+"assets/files/grafana-ssl-certificate-expires-694b82ef0991ebbc6730e8e1f0dae8d2.png"},4133:(e,n,a)=>{a.d(n,{Z:()=>r});const r=a.p+"assets/images/monitoring-web-hosts-logo-b1ba2ab5f07b6e69140fa7c31431038e.png"},6418:(e,n,a)=>{a.d(n,{Z:()=>r});const r=a.p+"assets/images/grafana-ssl-certificate-expires-694b82ef0991ebbc6730e8e1f0dae8d2.png"},6009:(e,n,a)=>{a.d(n,{Z:()=>r});const r=a.p+"assets/images/monitoring-web-hosts-logo-b1ba2ab5f07b6e69140fa7c31431038e.png"},7402:(e,n,a)=>{a.d(n,{Z:()=>r});const r=a.p+"assets/images/telegram-alertmanager-1f0e17b64f4d7e7240786c611a44877d.png"},4104:(e,n,a)=>{a.d(n,{Z:()=>r});const r=a.p+"assets/images/uptime-kuma-87329102b96002a5c3aa7e6720f8c9e7.jpg"},1151:(e,n,a)=>{a.d(n,{Z:()=>o,a:()=>i});var r=a(7294);const s={},t=r.createContext(s);function i(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);