<!doctype html>
<html lang="ru" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Генератор http трафика - oha | Artur Akmalov</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://akmalov.com/blog/oha"><meta data-rh="true" property="og:locale" content="ru"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Генератор http трафика - oha | Artur Akmalov"><meta data-rh="true" name="description" content="Генератор HTTP-нагрузки, аналог rakyll/hey с анимацией tui."><meta data-rh="true" property="og:description" content="Генератор HTTP-нагрузки, аналог rakyll/hey с анимацией tui."><meta data-rh="true" name="keywords" content="http,https,load testing,stress testing,cli,command line,terminal,generator"><meta data-rh="true" property="og:image" content="https://akmalov.com/assets/images/logo-730c08ddb3d246597d881ea3d470a7ca.png"><meta data-rh="true" name="twitter:image" content="https://akmalov.com/assets/images/logo-730c08ddb3d246597d881ea3d470a7ca.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-09-06T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="networks,tools"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://akmalov.com/blog/oha"><link data-rh="true" rel="alternate" href="https://akmalov.com/blog/oha" hreflang="ru"><link data-rh="true" rel="alternate" href="https://akmalov.com/blog/oha" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://M2BGREKLU1-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://akmalov.com/blog/oha","mainEntityOfPage":"https://akmalov.com/blog/oha","url":"https://akmalov.com/blog/oha","headline":"Генератор http трафика - oha","name":"Генератор http трафика - oha","description":"Генератор HTTP-нагрузки, аналог rakyll/hey с анимацией tui.","datePublished":"2025-09-06T00:00:00.000Z","author":[],"image":{"@type":"ImageObject","@id":"https://akmalov.com/assets/images/logo-730c08ddb3d246597d881ea3d470a7ca.png","url":"https://akmalov.com/assets/images/logo-730c08ddb3d246597d881ea3d470a7ca.png","contentUrl":"https://akmalov.com/assets/images/logo-730c08ddb3d246597d881ea3d470a7ca.png","caption":"title image for the blog post: Генератор http трафика - oha"},"keywords":["http","https","load testing","stress testing","cli","command line","terminal","generator"],"isPartOf":{"@type":"Blog","@id":"https://akmalov.com/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Artur Akmalov RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Artur Akmalov Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Artur Akmalov JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SH0K5XVKDG"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-SH0K5XVKDG",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Artur Akmalov" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.7f4fcb67.css">
<script src="/assets/js/runtime~main.75bbd2f1.js" defer="defer"></script>
<script src="/assets/js/main.da1d97b5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Перейти к основному содержимому"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Перейти к основному содержимому</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Переключить навигационную панель" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Akmalov Artur" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Akmalov Artur" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Akmalov Artur</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/about">About</a><a href="https://github.com/akmalovaa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Поиск (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Поиск</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1"><article class=""><header><h1 class="title_f1Hy">Генератор http трафика - oha</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-09-06T00:00:00.000Z">6 сентября 2025 г.</time> · <!-- -->2 мин. чтения</div></header><div id="__blog-post-container" class="markdown"><p>Генератор HTTP запросов альтернатива rakyll/hey</p>
<p><a href="/blog/oha"><img decoding="async" loading="lazy" alt="oha" src="/assets/images/logo-730c08ddb3d246597d881ea3d470a7ca.png" width="1500" height="500" class="img_ev3q"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="введение">Введение<a href="#введение" class="hash-link" aria-label="Прямая ссылка на Введение" title="Прямая ссылка на Введение">​</a></h2>
<p>Простой кроссплатформенный инструмент командной строки для генерации HTTP-нагрузки</p>
<p>Использовал для проверки автоскейлинга в k8s, когда задал ресурсы в nginx, и нужно было создать нагрузку, этот инструмент отлично подошел. Получилось быстро нагенерировать запросы и посмотреть как ведет себя кластер.</p>
<ul>
<li>поддержка HTTP/1.1, HTTP/2 и экспериментальная HTTP/3</li>
<li>красивый интерактивный TUI с  анимацией в реальном времени</li>
<li>высокая производительность благодаря Rust</li>
<li>простота использования CLI</li>
<li>гибкие настройки запросов (заголовки, методы, тело и т.д.)</li>
<li>поддержка burst-режима и rate limiting</li>
<li>вывод результатов в разных форматах (text, JSON, CSV)</li>
</ul>
<p>Репозиторий <a href="https://github.com/hatoo/oha" target="_blank" rel="noopener noreferrer"><strong>Github</strong></a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="установка">Установка<a href="#установка" class="hash-link" aria-label="Прямая ссылка на Установка" title="Прямая ссылка на Установка">​</a></h3>
<p>macOS:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">brew </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> oha</span><br></span></code></pre></div></div>
<p>Debian/Ubuntu:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;deb [signed-by=/usr/share/keyrings/azlux-archive-keyring.gpg] http://packages.azlux.fr/debian/ stable main&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tee</span><span class="token plain"> /etc/apt/sources.list.d/azlux.list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-O</span><span class="token plain"> /usr/share/keyrings/azlux-archive-keyring.gpg https://azlux.fr/repo.gpg</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> oha</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="пример-использования">Пример использования<a href="#пример-использования" class="hash-link" aria-label="Прямая ссылка на Пример использования" title="Прямая ссылка на Пример использования">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://github.com/hatoo/oha/blob/master/demo.gif?raw=true" alt="oha" class="img_ev3q"></p>
<p>Базовый тест на 1 минуту:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">oha </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-z</span><span class="token plain"> 1m https://akmalov.com</span><br></span></code></pre></div></div>
<p>Тест с 10 одновременными соединениями и 1000 запросами:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">oha </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-c</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-n</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain"> https://akmalov.com</span><br></span></code></pre></div></div>
<p>POST запрос с JSON данными:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">oha </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-m</span><span class="token plain"> POST </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-d</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;test&quot;: &quot;data&quot;}&#x27;</span><span class="token plain"> https://httpbin.org/post</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="основные-параметры">Основные параметры<a href="#основные-параметры" class="hash-link" aria-label="Прямая ссылка на Основные параметры" title="Прямая ссылка на Основные параметры">​</a></h3>
<ul>
<li><code>-z</code> — продолжительность теста (например, <code>10s</code>, <code>2m</code>, <code>1h</code>)</li>
<li><code>-n</code> — количество запросов</li>
<li><code>-c</code> — количество одновременных соединений</li>
<li><code>-m</code> — HTTP метод (GET, POST, PUT, DELETE)</li>
<li><code>-H</code> — заголовки HTTP</li>
<li><code>-d</code> — тело запроса</li>
<li><code>--json</code> — вывод результатов в формате JSON</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="альтернативы">Альтернативы<a href="#альтернативы" class="hash-link" aria-label="Прямая ссылка на Альтернативы" title="Прямая ссылка на Альтернативы">​</a></h3>
<ul>
<li><strong>hey</strong> — популярный инструмент на Go</li>
<li><strong>wrk</strong> — легковесный инструмент на C</li>
<li><strong>ab</strong> (Apache Bench) — классический инструмент</li>
<li><strong>siege</strong> — продвинутый инструмент нагрузочного тестирования</li>
</ul>
<p><strong>Преимущество oha:</strong> красивая анимация в реальном времени и высокая производительность благодаря Rust.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Теги:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/networks">networks</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/tools">tools</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/akmalovaa/akmalov.com/tree/main/blog/oha/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Отредактировать эту страницу</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><div class="docusaurus-blog-comments"></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Навигация по странице поста блога"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/mikrotik-cpu-benchmark"><div class="pagination-nav__sublabel">Предыдущий пост</div><div class="pagination-nav__label">MikroTik CPU Benchmark</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#введение" class="table-of-contents__link toc-highlight">Введение</a><ul><li><a href="#установка" class="table-of-contents__link toc-highlight">Установка</a></li><li><a href="#пример-использования" class="table-of-contents__link toc-highlight">Пример использования</a></li><li><a href="#основные-параметры" class="table-of-contents__link toc-highlight">Основные параметры</a></li><li><a href="#альтернативы" class="table-of-contents__link toc-highlight">Альтернативы</a></li></ul></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Akmalov Artur</div></div></div></footer></div>
</body>
</html>