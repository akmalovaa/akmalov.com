<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Artur Akmalov Blog</title>
        <link>https://akmalov.com/blog</link>
        <description>Artur Akmalov Blog</description>
        <lastBuildDate>Mon, 15 May 2023 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>ru</language>
        <copyright>Copyright © 2023 Facebook, Inc.</copyright>
        <item>
            <title><![CDATA[Releases info]]></title>
            <link>https://akmalov.com/blog/releases-info</link>
            <guid>https://akmalov.com/blog/releases-info</guid>
            <pubDate>Mon, 15 May 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[releases check latest version]]></description>
            <content:encoded><![CDATA[<p>Решение для проверки последних релизных версий. Готовый docker файл, написан с использованием Python, Flask</p><p><a href="/blog/releases-info"><img loading="lazy" alt="Releases update info" src="/assets/images/update-releases-028b9980ce7a103dfb783076f0b2716c.png" width="1500" height="500" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="releases-info">Releases info<a href="#releases-info" class="hash-link" aria-label="Прямая ссылка на Releases info" title="Прямая ссылка на Releases info">​</a></h2><p>Страница на <a href="https://github.com/akmalovaa/releases-info" target="_blank" rel="noopener noreferrer">Github</a></p><p>Сервис проверяет новые версии ваших проектов и показывает, отставание от последних релизов
<img loading="lazy" alt="Releases info" src="/assets/images/example-fe614d38594ec87643d3873e58f42f70.png" width="1389" height="612" class="img_ev3q"></p><p>На данный момент проверка только с github проектов, где есть релизный список, планируется добавить проверку версий образов с <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">Docker hub</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="запуск">Запуск<a href="#запуск" class="hash-link" aria-label="Прямая ссылка на Запуск" title="Прямая ссылка на Запуск">​</a></h2><p>Скопировать .env.example в .env файл и вставить свой github token (нужен для обращения к github API)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cp .env.example .env</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Запустить docker-compose</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker-compose up -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="настройка">Настройка<a href="#настройка" class="hash-link" aria-label="Прямая ссылка на Настройка" title="Прямая ссылка на Настройка">​</a></h2><p>Необходимо изменить файл config.yml:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">sentry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">github</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">owner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> getsentry</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">repo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> sentry</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 22.11.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Например ссылка <a href="https://github.com/getsentry/sentry" target="_blank" rel="noopener noreferrer">https://github.com/getsentry/sentry</a></p><ul><li>owner (владелец) - getsentry</li><li>repo (репозиторий) - sentry</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="планы">Планы<a href="#планы" class="hash-link" aria-label="Прямая ссылка на Планы" title="Прямая ссылка на Планы">​</a></h2><ul><li>Добавить проверку обновлений Docker HUB</li><li>Уведомления в Telegram о новых релизах</li><li>Автоматический парсинг версии с iac</li><li>Улучшить интерфейс, попробовать React</li><li>Подумать насчет базы данных</li></ul>]]></content:encoded>
            <category>docker</category>
            <category>python</category>
            <category>flask</category>
            <category>releases</category>
        </item>
        <item>
            <title><![CDATA[Image generator]]></title>
            <link>https://akmalov.com/blog/image-generator-python-flask-docker</link>
            <guid>https://akmalov.com/blog/image-generator-python-flask-docker</guid>
            <pubDate>Sun, 23 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Image generator Python - Создать изображение необходимого размера веса]]></description>
            <content:encoded><![CDATA[<p>Image generator Python — простой сервис для создания (генерации) изображений необходимого размера веса</p><p><a href="/blog/image-generator-python-flask-docker"><img loading="lazy" alt="Releases update info" src="/assets/images/image-generator-0a6783032e625551d2c38f1bac28259e.png" width="1500" height="500" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="image-generator">Image generator<a href="#image-generator" class="hash-link" aria-label="Прямая ссылка на Image generator" title="Прямая ссылка на Image generator">​</a></h2><p>Для тестирования одного приложения появилось потребность в изображениях разного веса (размера) от 1 до 120 Мб, искал различные генераторы изображений, ничего подходящего не обнаружил (только по разрешению и качеству при изменении которых не угадаешь какой размер получится на выходе — но можно конечно попробовать рассчитать)</p><p>Страница <a href="https://github.com/akmalovaa/image-generator" target="_blank" rel="noopener noreferrer">Github</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="принцип-работы">Принцип работы<a href="#принцип-работы" class="hash-link" aria-label="Прямая ссылка на Принцип работы" title="Прямая ссылка на Принцип работы">​</a></h2><ul><li>Ввод необходимого размер</li><li>Выбор типа изображения (формат, расширение)</li><li>Генерация изображения</li></ul><p>Вроде все просто но на 3 пункте, немного подвис, если создавать изображения с помощью сторонних библиотек где можно задавать только высоту и ширину добиваясь этими параметрами нужных размеров файла было не удобно.</p><p>Решил немного схитрить, генерировать файл заполненный случайными данными нужного размера, архивировать его в zip и подсунуть как нагрузку к любому изображению</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="консольный-вариант">Консольный вариант<a href="#консольный-вариант" class="hash-link" aria-label="Прямая ссылка на Консольный вариант" title="Прямая ссылка на Консольный вариант">​</a></h2><p>В качестве шаблона изображения выбирает случайный файл в директории ./images</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">path</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> zipfile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> random</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">_get_image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">extension</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">"""Get random image from template desire extension (jpg, png)"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    images</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">list</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> root</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> dirs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> files </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">walk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'images/'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> f </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> files</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f'.</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">extension</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                images</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> images</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f'images/</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">random</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">choice</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation">images</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f'No found template images'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">generate_image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> image_type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'jpg'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">""" Generate binary file and create zip archive """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"generated/</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">size</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">.</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">image_type</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    size_byte</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> size</span><span class="token operator">*</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    filename</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'workload.dat'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    generated_zip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token plain">  </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'generated.zip'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">with</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'%s'</span><span class="token operator">%</span><span class="token plain">filename</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'wb'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> fout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        fout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">urandom</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">size_byte</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">with</span><span class="token plain"> zipfile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ZipFile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">generated_zip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> mode</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"w"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> archive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        archive</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">""" Merge zip and jpg file """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    jpg_file </span><span class="token operator">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">_get_image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">image_type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'rb'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    jpg_data </span><span class="token operator">=</span><span class="token plain"> jpg_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">read</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    jpg_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    zip_file </span><span class="token operator">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">generated_zip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'rb'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    zip_data </span><span class="token operator">=</span><span class="token plain"> zip_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">read</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    zip_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># merge zip-jpg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new_file </span><span class="token operator">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f'generated/</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">size</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">.</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">image_type</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'wb'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">jpg_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">zip_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Remove generated zip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">remove</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">generated_zip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> __name__ </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'__main__'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    input_size </span><span class="token operator">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">input</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Enter the desired image size (Mb): "</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        image_size </span><span class="token operator">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">input_size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">except</span><span class="token plain"> ValueError</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Not interesting value, need number(int)"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> image_size </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">and</span><span class="token plain"> image_size </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        generate_image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">image_size</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Sorry, dont want to do this'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="web-версия">Web версия<a href="#web-версия" class="hash-link" aria-label="Прямая ссылка на Web версия" title="Прямая ссылка на Web версия">​</a></h2><p>Использовал Flask + Bootstrap для оформления.</p><p>Ранее не приходилось делать веб скрипты, появилось желание посмотреть и попробовать.</p><p>Цели:</p><ul><li>Поле ввода размера файла в Mb (только цифры от 1 до 999)</li><li>Выпадающий список формата файлов</li><li>Кнопка</li></ul><p>Так выглядит без оформления:</p><p><img loading="lazy" alt="simple-web" src="data:image/png;base64,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" width="352" height="174" class="img_ev3q"></p><p>С использованием стилей Bootstrap:</p><p><img loading="lazy" alt="Bootstrap-flask" src="/assets/images/bootstrap-346a2aca6995725f4444e58741db1015.png" width="1024" height="533" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="контейнеризация">Контейнеризация<a href="#контейнеризация" class="hash-link" aria-label="Прямая ссылка на Контейнеризация" title="Прямая ссылка на Контейнеризация">​</a></h2><p>Ну и чтоб удобнее было использовать собрать все это в docker</p><p>Dockerfile:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">FROM python:3.10.5-slim-buster</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RUN apt update &amp;&amp; apt upgrade -y &amp;&amp; pip install poetry</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WORKDIR /image-generator</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">COPY . .</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RUN poetry config virtualenvs.create false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RUN poetry install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Для удобства запуска docker-compose</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">docker-compose.yml</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'3.7'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">app</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">build</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> ./</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">generator</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token datetime number">80:80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"python app.py"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> ./images</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/images</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> ./generated</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/generated</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="запуск">Запуск<a href="#запуск" class="hash-link" aria-label="Прямая ссылка на Запуск" title="Прямая ссылка на Запуск">​</a></h2><p>На сервере или VM с установленным docker, docker-compose</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone https://github.com/akmalovaa/image-generator.git </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">docker-compose</span><span class="token plain"> up -d --build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="заключение">Заключение<a href="#заключение" class="hash-link" aria-label="Прямая ссылка на Заключение" title="Прямая ссылка на Заключение">​</a></h2><p>Еще много всего можно доработать, и возможно лучше брать реальный расчет и генерировать нормальные изображения.</p><p>Цель достигнута познакомился с Flask скрипт работает, быстро и удобно разворачивается</p><p><img loading="lazy" alt="result-files" src="data:image/png;base64,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" width="749" height="159" class="img_ev3q"></p><p><img loading="lazy" alt="file-info" src="/assets/images/file-info-2d9a51252576a9c36e923af57c503aa6.png" width="416" height="547" class="img_ev3q"></p><p>Файлы открываются в Windows, Photoshop и WinRAR</p><p>Если изменить изображение в редакторе и сохранить нагрузочный архив исчезнет и картинка станет оригинального размера.</p>]]></content:encoded>
            <category>docker</category>
            <category>python</category>
            <category>flask</category>
            <category>image</category>
        </item>
        <item>
            <title><![CDATA[NGINX Proxy Manager]]></title>
            <link>https://akmalov.com/blog/nginx-proxy-manager</link>
            <guid>https://akmalov.com/blog/nginx-proxy-manager</guid>
            <pubDate>Sat, 08 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[NGINX Proxy Manager - сервис (WEB GUI) для управления конфигурацией NGINX]]></description>
            <content:encoded><![CDATA[<p>NGINX Proxy Manager - сервис (WEB GUI) для управления конфигурацией NGINX. Идет как готовый docker контейнер, в проекте реализовано максимально простое и удобное управление основным базовым функциями NGINX.</p><p><a href="/blog/nginx-proxy-manager"><img loading="lazy" alt="nginx logo" src="/assets/images/nginx-proxy-manager-logo-64566577a59f79263974a6414ef6e40a.png" width="1500" height="500" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nginx-proxy-manager">NGINX Proxy Manager<a href="#nginx-proxy-manager" class="hash-link" aria-label="Прямая ссылка на NGINX Proxy Manager" title="Прямая ссылка на NGINX Proxy Manager">​</a></h2><p>Open Source проект ссылки на <a href="https://github.com/NginxProxyManager/nginx-proxy-manager" target="_blank" rel="noopener noreferrer">Github</a> и <a href="https://nginxproxymanager.com/" target="_blank" rel="noopener noreferrer">Офф сайт</a></p><p>Возможности:</p><ul><li>Простой и удобный web интерфейс</li><li>Легкая настройка проксирования без редактирования nginx config файла</li><li>Управление пользователями, разрешения и журнал аудита</li><li>Возможность установить свои или сгенерировать SSL сертификаты</li><li>Контроль доступа, средства авторизации, разрешенные и запрещенные адрес листы.</li></ul><p>Основное назначение это проксирование по URL домена.</p><p>Например имеются 3 домена:</p><ul><li>akmalov.com</li><li>test.akmalov.com</li><li>lvl.akmalov.com</li></ul><p>Все домены обращаются по одному внешнему IP на маршрутизатор
Маршрутизатор перенаправляет все соединения которые идут на 80 или 443 порт на NGINX Proxy Manager
NGINX в зависимости от домена перенаправляет на необходимый сервер, VM, Container в локальной сети. Подставляет сертификат, управляет разрешениями.</p><p><img loading="lazy" alt="nginx exmaple shema" src="/assets/images/nginx-exmaple-shema-9e346cf88863918b5d0dfd255e8fca27.png" title="Схема использования NGINX Poroxy Manager" width="2718" height="1597" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="установка-nginx-proxy-manager">Установка NGINX Proxy Manager<a href="#установка-nginx-proxy-manager" class="hash-link" aria-label="Прямая ссылка на Установка NGINX Proxy Manager" title="Прямая ссылка на Установка NGINX Proxy Manager">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-подготовка-среды">1. Подготовка среды<a href="#1-подготовка-среды" class="hash-link" aria-label="Прямая ссылка на 1. Подготовка среды" title="Прямая ссылка на 1. Подготовка среды">​</a></h4><p>Буду устанавливать на LXC Proxmox</p><ul><li>OS: Ubuntu 22.02</li><li>CPU: 2</li><li>RAM: 1 Gb</li><li>Disk: 10 Gb</li></ul><p>Обновление пакетов и установка docker</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">apt update &amp;&amp; apt upgrade -y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">apt install -y docker.io docker-compose</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-настройка-docker-composeyaml">2. Настройка docker-compose.yaml<a href="#2-настройка-docker-composeyaml" class="hash-link" aria-label="Прямая ссылка на 2. Настройка docker-compose.yaml" title="Прямая ссылка на 2. Настройка docker-compose.yaml">​</a></h4><div class="language-YAML codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-YAML codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">version: "3"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  nginx-proxy-manager:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    image: 'jc21/nginx-proxy-manager:latest'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    restart: unless-stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - '80:80' # HTTP port</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - '443:443' # HTTPS port</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - '81:81' # Admin web port</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    volumes:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - ./data:/data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - ./letsencrypt:/etc/letsencrypt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>По умолчанию создается файловая база данных SQLite - <code>data/database.sqlite</code>
Есть так же решения c использованием отдельной базы данных MySQL на офф.сайте.
В моем случаи SQLite хватает с огромным запасом</p><p>Запуск контейнера</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker-compose up -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>После запуска контейнера, можно подключиться к панели администратора</p><p><a href="http://YOUR-IP:81/" target="_blank" rel="noopener noreferrer">http://YOUR-IP:81/</a></p><p>Логин и пароль по умолчанию</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Email: admin@example.com</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Password: changeme</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>При первом запуске предложит настроить админскую учетную запись и изменить пароль</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="настройка-nginx-proxy-manager">Настройка NGINX Proxy Manager<a href="#настройка-nginx-proxy-manager" class="hash-link" aria-label="Прямая ссылка на Настройка NGINX Proxy Manager" title="Прямая ссылка на Настройка NGINX Proxy Manager">​</a></h3><p>Так выглядит изначально GUI главного экрана (Все по нулям т.к. ничего не добавляли еще)
<img loading="lazy" alt="nginx proxy manager web" src="/assets/images/web-main-3c4b79fb2ba7ddefec458443c6aa14bd.png" title="gui nginx proxy manager web" width="1222" height="633" class="img_ev3q"></p><p>SSL сертификаты есть возможность сгенерировать с помощью Let'Encrypt в одно нажатие или добавить свои сертификаты
<img loading="lazy" alt="nginx proxy manager ssl" src="/assets/images/ssl-generate-4c702e1f95344f0a5062bd3d2c1d8128.png" title="Панель добавления или создания сертификата SSL" width="1218" height="626" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="настройка-host-proxy-nginx">Настройка Host Proxy NGINX<a href="#настройка-host-proxy-nginx" class="hash-link" aria-label="Прямая ссылка на Настройка Host Proxy NGINX" title="Прямая ссылка на Настройка Host Proxy NGINX">​</a></h3><p>Все также интуитивно понтяно, прописываю домен, порт, если нужно подставляю  сертификат SSL для HTTPS
<img loading="lazy" alt="nginx proxy manager proxy host1" src="/assets/images/add-host1-44d2bd3007026bc3329ba8f4c6f9677c.png" title="Добавление proxy host" width="493" height="546" class="img_ev3q">
<img loading="lazy" alt="nginx proxy manager proxy host3" src="/assets/images/add-host3-c49311a2c450714d3212ad14b95feae7.png" title="Добавление proxy host" width="495" height="551" class="img_ev3q"></p><p>Для работы доменов из локальной сети необходимо в DNS домены которые добавлены в Proxy Host направлять на адрес NGINX Proxy Manager</p><p>В общем и целом этого хватает для решения задач которые описал выше. Хоть и конфиг был бы не такой сложной, но с помощью этого сервиса можно это сделать в несколько кликов.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="дополнительные-функции">Дополнительные функции<a href="#дополнительные-функции" class="hash-link" aria-label="Прямая ссылка на Дополнительные функции" title="Прямая ссылка на Дополнительные функции">​</a></h2><p>Распишу еще кое какие полезные фичи, которые использую у себя</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dashboard-для-nginx-proxy-manager">Dashboard для nginx proxy manager<a href="#dashboard-для-nginx-proxy-manager" class="hash-link" aria-label="Прямая ссылка на Dashboard для nginx proxy manager" title="Прямая ссылка на Dashboard для nginx proxy manager">​</a></h3><p>Проект отнсительно свежий и активно разрабаывается, выглядит интересно</p><p><a href="https://github.com/xavier-hernandez/goaccess-for-nginxproxymanager" target="_blank" rel="noopener noreferrer">Ссылка на Git автора</a></p><p><img loading="lazy" alt="nginx proxy manager dashboard" src="/assets/images/monitoring-2136b527537d051311459dc10e6bd514.png" title="nginx proxy manager мониторинг" width="1848" height="926" class="img_ev3q"></p><p>Красивый графический вывод информации на основе логов, позволяет посмотреть статистику, оценить нагрузку. Написано на Go работает быстро, даже с большим объемом данных, не потребляет много ресурсов.</p><p>В docker-compose необходимо указать путь к логам от nginx proxy manager</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="страница-404-для-nginx-proxy-manager">Страница 404 для nginx proxy manager<a href="#страница-404-для-nginx-proxy-manager" class="hash-link" aria-label="Прямая ссылка на Страница 404 для nginx proxy manager" title="Прямая ссылка на Страница 404 для nginx proxy manager">​</a></h3><p>Nginx позволяет вместо ошибки 404 сделать redirect на любой другой хост или даже указать свой HTML код
<img loading="lazy" alt="nginx proxy manager custom 404" src="/assets/images/404-host-a094256c722a2dee19eebe110f3f3dca.png" title="nginx proxy manager 404" width="1215" height="582" class="img_ev3q"></p><p>Воспользуюсь Redirect и сделаю красивую страницу для 404</p><p><a href="https://hub.docker.com/r/kale5/rickroll" target="_blank" rel="noopener noreferrer">Ссылка на Docker Hub проекта</a></p><p><img loading="lazy" alt="nginx proxy manager custom 404" src="/assets/images/rick-b1743da214da0566ee8467baaf6b2e73.jpeg" title="nginx proxy manager 404 rickroll" width="1500" height="785" class="img_ev3q"></p><p>Теперь вместо страницы ошибок он будет перенаправлять на этот URL, с качественным видео</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="итоговый-docker-compose">Итоговый docker-compose<a href="#итоговый-docker-compose" class="hash-link" aria-label="Прямая ссылка на Итоговый docker-compose" title="Прямая ссылка на Итоговый docker-compose">​</a></h3><p>В итоге конечный docker-compose у меня выглядит так:</p><div class="language-YAML codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-YAML codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">version: "3"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  nginx-proxy-manager:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    image: 'jc21/nginx-proxy-manager:latest'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    restart: unless-stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - '80:80' # HTTP Port</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - '443:443' # HTTPS Port</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - '81:81' # Admin Web Port</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    volumes:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - ./data:/data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - ./letsencrypt:/etc/letsencrypt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  npm-monitoring:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    image: xavierh/goaccess-for-nginxproxymanager:latest</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    restart: always</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    environment:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - TZ=Asia/Yekaterinburg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - SKIP_ARCHIVED_LOGS=True #optional</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - EXCLUDE_IPS=127.0.0.1 #optional</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - LOG_TYPE=NPM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - '82:7880'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    volumes:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        - ./data/logs:/opt/log</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  error-page-404:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    image: 'kale5/rickroll:latest'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    restart: unless-stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - '83:80'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="итоги">Итоги<a href="#итоги" class="hash-link" aria-label="Прямая ссылка на Итоги" title="Прямая ссылка на Итоги">​</a></h2><p>Мне очень нравится этот сервис позволяет быстро легко поднять и настроить NGINX,  каких-то проблем с ним не было, сам продлевает сертификаты, одним словом настроил и забыл и иногда только заходил и через web добавлял новые хосты в 2-3 клика.</p><p>Так же есть аналог - Traefik, на данный момент активно его изучаю, но там нет удобного интерфейса и вся настройка через конфиги, т.к. больше погружаюсь в автоматизацию и много сервисов которые надо динамически настраивать, больше упор именно на traefik идет.</p>]]></content:encoded>
            <category>docker</category>
            <category>homelab</category>
            <category>nginx</category>
            <category>proxy</category>
        </item>
        <item>
            <title><![CDATA[Adguard Home]]></title>
            <link>https://akmalov.com/blog/adguard-home</link>
            <guid>https://akmalov.com/blog/adguard-home</guid>
            <pubDate>Wed, 13 Oct 2021 10:00:00 GMT</pubDate>
            <description><![CDATA[Adguard Home DNS server guide]]></description>
            <content:encoded><![CDATA[<p>Простая установка и настройка домашнего DNS сервера с блокировкой рекламы и DOH (DNS over HTTPS)</p><p><a href="/blog/adguard-home"><img loading="lazy" alt="Adguard logo" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzNzQgOTMuNSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzc0IDkzLjU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRDhEOEQ4O30KCS5zdDF7ZmlsbDojNjhCQzcxO30KCS5zdDJ7ZmlsbDojNjdCMjc5O30KCS5zdDN7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjk2LjQsNTAuMWwtMi43LTYuN2gtMTMuMmwtMi41LDYuN2gtOWwxNC4zLTM0LjJoOGwxNC4yLDM0LjJIMjk2LjR6IE0yODcuMywyNWwtNC4zLDExLjdoOC42TDI4Ny4zLDI1egoJCSBNMjY2LjgsMzYuNmMwLDItMC4zLDMuOC0xLDUuNWMtMC43LDEuNi0xLjcsMy4xLTMsNC4yYy0xLjMsMS4yLTIuOSwyLjEtNC43LDIuOGMtMS44LDAuNy0zLjksMS02LjEsMWMtMi4zLDAtNC4zLTAuMy02LjItMQoJCWMtMS44LTAuNy0zLjQtMS42LTQuNi0yLjhjLTEuMy0xLjItMi4zLTIuNi0yLjktNC4yYy0wLjctMS42LTEtMy41LTEtNS41VjE1LjloOC4zVjM2YzAsMC45LDAuMSwxLjgsMC40LDIuNgoJCWMwLjIsMC44LDAuNiwxLjUsMS4xLDIuMmMwLjUsMC42LDEuMiwxLjIsMiwxLjVjMC44LDAuNCwxLjgsMC42LDMsMC42czIuMi0wLjIsMy0wLjZjMC44LTAuNCwxLjUtMC45LDItMS41CgkJYzAuNS0wLjYsMC45LTEuNCwxLjEtMi4yYzAuMi0wLjgsMC4zLTEuNywwLjMtMi42VjE1LjloOC40VjM2LjZMMjY2LjgsMzYuNnogTTIzMC4zLDQ3LjNjLTEuNywwLjgtMy42LDEuNS01LjksMgoJCWMtMi4yLDAuNS00LjcsMC44LTcuMywwLjhjLTIuNywwLTUuMy0wLjQtNy42LTEuMmMtMi4zLTAuOC00LjMtMi01LjktMy41Yy0xLjctMS41LTMtMy4zLTMuOS01LjRjLTAuOS0yLjEtMS40LTQuNC0xLjQtNwoJCWMwLTIuNiwwLjUtNSwxLjQtNy4xYzAuOS0yLjEsMi4yLTMuOSwzLjktNS40YzEuNy0xLjUsMy43LTIuNyw1LjktMy40YzIuMy0wLjgsNC43LTEuMiw3LjMtMS4yYzIuNywwLDUuMiwwLjQsNy41LDEuMgoJCWMyLjMsMC44LDQuMiwxLjgsNS42LDMuMWwtNS4yLDUuNmMtMC44LTAuOS0xLjktMS42LTMuMi0yLjJjLTEuMy0wLjYtMi44LTAuOS00LjUtMC45Yy0xLjQsMC0yLjgsMC4zLTQsMC44CgkJYy0xLjIsMC41LTIuMywxLjItMy4yLDIuMWMtMC45LDAuOS0xLjYsMi0yLjEsMy4yYy0wLjUsMS4zLTAuOCwyLjctMC43LDQuMWMwLDEuNSwwLjIsMi45LDAuNyw0LjFjMC40LDEuMywxLjEsMi4zLDIsMy4yCgkJYzAuOSwwLjksMiwxLjYsMy4zLDIuMWMxLjMsMC41LDIuOCwwLjgsNC41LDAuOGMxLDAsMS45LTAuMSwyLjctMC4yYzAuOS0wLjEsMS43LTAuNCwyLjQtMC43di01LjloLTYuNXYtNi4zaDE0LjFWNDcuM0wyMzAuMyw0Ny4zCgkJeiBNMzc0LDMyLjljMCwzLTAuNiw1LjYtMS43LDcuOGMtMSwyLjEtMi41LDMuOS00LjQsNS40Yy0xLjgsMS40LTMuOSwyLjUtNi4yLDMuMWMtMi4zLDAuNy00LjYsMS03LDFoLTEyLjhWMTUuOWgxMi40CgkJYzIuNCwwLDQuOCwwLjMsNy4yLDAuOGMyLjMsMC41LDQuNCwxLjUsNi4zLDIuOGMxLjgsMS4zLDMuMywzLjEsNC40LDUuMkMzNzMuNSwyNywzNzQsMjkuNywzNzQsMzIuOUwzNzQsMzIuOXogTTM2NS40LDMyLjkKCQljMC0xLjktMC4zLTMuNS0wLjktNC44Yy0wLjYtMS4yLTEuNC0yLjMtMi41LTNjLTEuMS0wLjgtMi4zLTEuMy0zLjYtMS42Yy0xLjQtMC4zLTIuNy0wLjUtNC4xLTAuNWgtNC4xdjIwaDMuOQoJCWMxLjUsMCwyLjktMC4yLDQuMy0wLjVjMS4zLTAuMywyLjUtMC45LDMuNi0xLjdjMS4xLTAuOCwxLjktMS45LDIuNS0zLjFDMzY1LjEsMzYuNCwzNjUuNCwzNC44LDM2NS40LDMyLjlMMzY1LjQsMzIuOXoKCQkgTTE5My44LDMyLjljMCwzLTAuNiw1LjYtMS43LDcuOGMtMSwyLjEtMi41LDMuOS00LjQsNS40Yy0xLjgsMS40LTMuOSwyLjUtNi4yLDMuMWMtMi4zLDAuNy00LjYsMS03LDFoLTEyLjhWMTUuOWgxMi40CgkJYzIuNCwwLDQuOCwwLjMsNy4yLDAuOGMyLjMsMC41LDQuNCwxLjUsNi4zLDIuOGMxLjgsMS4zLDMuMywzLjEsNC40LDUuMkMxOTMuMiwyNywxOTMuOCwyOS43LDE5My44LDMyLjlMMTkzLjgsMzIuOXogTTE4NS4yLDMyLjkKCQljMC0xLjktMC4zLTMuNS0wLjktNC44Yy0wLjYtMS4yLTEuNC0yLjMtMi41LTNjLTEuMS0wLjgtMi4zLTEuMy0zLjYtMS42Yy0xLjQtMC4zLTIuNy0wLjUtNC4xLTAuNWgtNC4xdjIwaDMuOQoJCWMxLjUsMCwyLjktMC4yLDQuMy0wLjVjMS4zLTAuMywyLjUtMC45LDMuNi0xLjdjMS4xLTAuOCwxLjktMS45LDIuNS0zLjFDMTg0LjksMzYuNCwxODUuMiwzNC44LDE4NS4yLDMyLjl6IE0xNTAuNCw1MC4xbC0yLjctNi43CgkJaC0xMy4ybC0yLjUsNi43aC05bDE0LjMtMzQuMmg4bDE0LjIsMzQuMkgxNTAuNHogTTE0MS4yLDI1bC00LjMsMTEuN2g4LjZMMTQxLjIsMjV6IE0zMjguMSw1MC4xbC03LjItMTMuNmgtMi43djEzLjZoLTcuOVYxNS45CgkJaDEyLjhjMS42LDAsMy4yLDAuMiw0LjcsMC41YzEuNSwwLjMsMi45LDAuOSw0LjEsMS43YzEuMiwwLjgsMi4yLDEuOSwyLjksMy4yYzAuNywxLjMsMS4xLDMsMS4xLDQuOWMwLDIuMy0wLjYsNC4zLTEuOCw1LjkKCQljLTEuMiwxLjYtMi45LDIuNy01LjEsMy40bDguNywxNC42SDMyOC4xeiBNMzI3LjcsMjYuNGMwLTAuOC0wLjItMS41LTAuNS0yYy0wLjMtMC41LTAuOC0wLjktMS4zLTEuMmMtMC41LTAuMy0xLjEtMC41LTEuNy0wLjYKCQljLTAuNi0wLjEtMS4yLTAuMS0xLjktMC4xaC00LjN2OGgzLjhjMC43LDAsMS4zLTAuMSwyLTAuMmMwLjctMC4xLDEuMy0wLjMsMS45LTAuNmMwLjYtMC4zLDEtMC43LDEuNC0xLjMKCQlDMzI3LjYsMjcuOSwzMjcuNywyNy4yLDMyNy43LDI2LjR6IE0xMjUuMyw4Ni4zVjY2LjRoMi4ydjguOGgxMS4xdi04LjhoMi4ydjE5LjloLTIuMnYtOC45aC0xMS4xdjguOUwxMjUuMyw4Ni4zTDEyNS4zLDg2LjN6CgkJIE0xNTUuMiw4Ni42Yy01LjksMC05LjgtNC43LTkuOC0xMC4zYzAtNS41LDQtMTAuMyw5LjgtMTAuM2M1LjksMCw5LjgsNC43LDkuOCwxMC4zQzE2NSw4MS44LDE2MSw4Ni42LDE1NS4yLDg2LjZ6IE0xNTUuMiw4NC41CgkJYzQuNCwwLDcuNS0zLjYsNy41LTguMmMwLTQuNS0zLjItOC4yLTcuNi04LjJzLTcuNSwzLjYtNy41LDguMkMxNDcuNiw4MC45LDE1MC44LDg0LjUsMTU1LjIsODQuNXogTTE2OS42LDg2LjNWNjYuNGgyLjJsNywxMC44CgkJbDctMTAuOGgyLjJ2MTkuOWgtMi4yVjcwLjJsLTcsMTAuNmgtMC4xbC03LTEwLjZ2MTYuMUgxNjkuNkwxNjkuNiw4Ni4zeiBNMTkzLjQsODYuM1Y2Ni40aDEzLjl2MmgtMTEuN3Y2LjhoMTAuNXYyaC0xMC41djYuOWgxMS45CgkJdjJDMjA3LjUsODYuMywxOTMuNCw4Ni4zLDE5My40LDg2LjN6Ii8+Cgk8ZyBpZD0ibG9nbyI+CgkJPGcgaWQ9Ikdyb3VwLTEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMi4wMDAwMDAsIDEyLjAwMDAwMCkiPgoJCQk8ZyBpZD0iR3JvdXAtOSI+CgkJCQk8ZyBpZD0iR3JvdXAtOCI+CgkJCQkJPGcgaWQ9Ikdyb3VwLTciPgoJCQkJCQk8cGF0aCBpZD0iUGF0aCIgY2xhc3M9InN0MSIgZD0iTTMzLjYtMTJDMTkuNC0xMiwyLjItOC42LTEyLTEuM2MwLDE1LjktMC4yLDU1LjcsNDUuNiw4Mi44Qzc5LjUsNTQuNCw3OS4zLDE0LjcsNzkuMy0xLjMKCQkJCQkJCUM2NS4xLTguNiw0Ny45LTEyLDMzLjYtMTJMMzMuNi0xMnoiLz4KCQkJCQkJPHBhdGggaWQ9IkNvbWJpbmVkLVNoYXBlIiBjbGFzcz0ic3QyIiBkPSJNMzMuNiw4MS41Qy0xMi4yLDU0LjQtMTIsMTQuNy0xMi0xLjNDMi4xLTguNiwxOS4zLTEyLDMzLjYtMTIKCQkJCQkJCUMzMy42LTEyLDMzLjYsODEuNSwzMy42LDgxLjV6Ii8+CgkJCQkJPC9nPgoJCQkJCTxwYXRoIGlkPSJGaWxsLTExIiBjbGFzcz0ic3QzIiBkPSJNMzIsNTAuNGwyNy42LTM3LjJjLTItMS42LTMuOC0wLjUtNC44LDAuNGwwLDBsLTIzLDIzLjlsLTguNy0xMC40QzE4LjksMjIuNCwxMy4zLDI2LDEyLDI3CgkJCQkJCUwzMiw1MC40Ii8+CgkJCQk8L2c+CgkJCTwvZz4KCQk8L2c+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==" width="374" height="94" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adguard-home-dns-сервер">Adguard Home DNS сервер<a href="#adguard-home-dns-сервер" class="hash-link" aria-label="Прямая ссылка на Adguard Home DNS сервер" title="Прямая ссылка на Adguard Home DNS сервер">​</a></h2><p><strong>Adguard Home DNS</strong> - <a href="https://github.com/AdguardTeam/AdGuardHome" target="_blank" rel="noopener noreferrer">Github</a> Open Source проект с открытым исходным кодом, возможность использовать как DNS сервер, DHCP, блокировать часть рекламного контента,  устанавливать и настраивать различные фильтры.
В этой статье покажу установку с использованием docker-compose и настройку домашнего DNS сервера с блокировкой рекламы с использованием DoH (DNS-over-HTTPS). Можно использовать на виртуальной машине, отдельном сервере или на мини ПК например: Rasberry Pi</p><p><img loading="lazy" src="https://cdn.adtidy.org/public/Adguard/Common/adguard_home.gif" alt="Adguard home" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-подготовка-среды">1. Подготовка среды<a href="#1-подготовка-среды" class="hash-link" aria-label="Прямая ссылка на 1. Подготовка среды" title="Прямая ссылка на 1. Подготовка среды">​</a></h2><p>Буду устанавливать на LXC Proxmox</p><ul><li>OS: Ubuntu 22.02</li><li>CPU: 2</li><li>RAM: 1 Gb</li><li>Disk: 10 Gb</li></ul><p>Обновление пакетов и установка docker</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">apt update &amp;&amp; apt upgrade -y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">apt install -y docker.io docker-compose</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-настройка-docker-composeyaml">2. Настройка docker-compose.yaml<a href="#2-настройка-docker-composeyaml" class="hash-link" aria-label="Прямая ссылка на 2. Настройка docker-compose.yaml" title="Прямая ссылка на 2. Настройка docker-compose.yaml">​</a></h2><p>На официальной странице adguard home dns docker-hub приведен пример кода с docker run, но мне удобнее использовать docker compose
Команда для запуска docker</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run --name adguardhome\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    --restart unless-stopped\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -v /my/own/workdir:/opt/adguardhome/work\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -v /my/own/confdir:/opt/adguardhome/conf\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -p 53:53/tcp -p 53:53/udp\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -p 67:67/udp -p 68:68/udp\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -p 80:80/tcp -p 443:443/tcp -p 443:443/udp -p 3000:3000/tcp\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -p 853:853/tcp\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -p 784:784/udp -p 853:853/udp -p 8853:8853/udp\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -p 5443:5443/tcp -p 5443:5443/udp\</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -d adguard/adguardhome</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Описание используемых портов:</p><ul><li><code>-p 53:53/tcp -p 53:53/udp</code>  - для работы DNS сервера.</li><li><code>-p 67:67/udp -p 68:68/tcp -p 68:68/udp</code> - для работы DHCP сервера</li><li><code>-p 80:80/tcp -p 443:443/tcp -p 443:443/udp -p 3000:3000/tcp</code> - для доступа к Web панели и работы в режиме HTTPS/DNS-over-HTTPS</li><li><code>-p 853:853/tcp </code>- для работы в режиме DNS-over-TLS</li><li><code>-p 784:784/udp -p 853:853/udp -p 8853:8853/udp</code> - для DNS-over-QUIC</li><li><code>-p 5443:5443/tcp -p 5443:5443/udp</code> - для DNSCrypt</li></ul><p>Описание docker-compose.yml</p><div class="language-docker codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-docker codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">version: "3.8"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">services:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  adguardhome:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    image: adguard/adguardhome:latest</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    hostname: adguard</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    volumes:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - ./adguard/work:/opt/adguardhome/work</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - ./adguard/conf:/opt/adguardhome/conf</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ports:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - 53:53/tcp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - 53:53/udp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - 80:80/tcp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - 443:443/tcp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - 443:443/udp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      - 3000:3000/tcp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    restart: unless-stopped</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>т.к. не планируется использовать в качестве DHCP сервера, DNSoQUIC, DNSCrypt отключил проброс не нужных портов</p><p>Но при попытке поднять данный контейнер, возникает ошибка</p><blockquote><p>Error starting userland proxy: listen tcp4 0.0.0.0:53: bind: address already in use</p></blockquote><p>Говорит о том что 53 порт уже используется системой, посмотрим кто его занял</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">lsof</span><span class="token plain"> -i :53</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="53 port lissten" src="/assets/images/53-port-listen-84cb877ab7aa13db7a5c4b8f4549835b.png" title="systemd-resolved занял 53 порт" width="851" height="100" class="img_ev3q"></p><p><em>systemd-resolved занял 53 порт</em></p><p>Редактирую файл, где установлю DNSStubListener = no</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">nano /etc/systemd/resolved.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="system-resolve" src="/assets/images/system-resolve-f098896dde87e8c53c14e77a916b72e0.png" title="systemd-resolved" width="1375" height="316" class="img_ev3q"></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[Resolve]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">DNS=127.0.0.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">DNSStubListener=no</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Сохраняю файл и перезапускаю службу</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">systemctl restart systemd-resolved.service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>И можно запускать docker-compose</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">docker-compose</span><span class="token plain"> up -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-настройка-adguard-home">3. Настройка AdGuard Home<a href="#3-настройка-adguard-home" class="hash-link" aria-label="Прямая ссылка на 3. Настройка AdGuard Home" title="Прямая ссылка на 3. Настройка AdGuard Home">​</a></h2><p>После успешного запуска контейнера, открываю Web интерфейс и продолжаю настройку
<a href="http://YOUR-IP:3000/" target="_blank" rel="noopener noreferrer">http://YOUR-IP:3000/</a>
<img loading="lazy" alt="adguard-home-docker" src="/assets/images/adguard-home-docker-91756aad42811580265320d0188e6913.png" title="adguard-home-docker" width="698" height="442" class="img_ev3q">
<img loading="lazy" alt="adguard-dns" src="/assets/images/adguard-dns-92f18a7fa5fac4fbc33a144344bc60fe.png" title="adguard-dns" width="640" height="900" class="img_ev3q"></p><p>Далее установить логин и пароль, далее идет инструкция, жму готово. И перекидывает на основную панель.</p><p>На основном маршрутизаторе указываю IP этого хоста как основной DNS сервер
В целом можно уже в основных настройках DNS установить необходимый сервер, и начать пользоваться, далее необязательные настройки и дополнительные фичи.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="черные-списки-dns">Черные списки DNS<a href="#черные-списки-dns" class="hash-link" aria-label="Прямая ссылка на Черные списки DNS" title="Прямая ссылка на Черные списки DNS">​</a></h3><p>Первым делом настраиваю черные списки DNS
<img loading="lazy" alt="dns-black-list" src="/assets/images/dns-black-list-503dde28822916e0909586db0d22ef4d.png" title="dns-black-list" width="1203" height="645" class="img_ev3q"></p><p>Cсылки на URL DNS black-list, которые я использую:</p><ul><li>AdGuard DNS - <a href="https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt" target="_blank" rel="noopener noreferrer">https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt</a></li><li>AdAway Default Blocklist - <a href="https://adaway.org/hosts.txt" target="_blank" rel="noopener noreferrer">https://adaway.org/hosts.txt</a></li><li>MalwareDomainList.com - <a href="https://www.malwaredomainlist.com/hostslist/hosts.txt" target="_blank" rel="noopener noreferrer">https://www.malwaredomainlist.com/hostslist/hosts.txt</a></li></ul><p>В интернете так же можно найти более расширенные списки или добавить свои</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssl-сертификат">SSL сертификат<a href="#ssl-сертификат" class="hash-link" aria-label="Прямая ссылка на SSL сертификат" title="Прямая ссылка на SSL сертификат">​</a></h3><p>Настройки -&gt; Настройки шифрования
<img loading="lazy" alt="adguard-ssl" src="/assets/images/adguard-ssl-56e34856d4655ad823420f35204835ed.png" title="adguard-sslt" width="1158" height="780" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dns-over-https-doh">DNS-Over-HTTPS (DoH)<a href="#dns-over-https-doh" class="hash-link" aria-label="Прямая ссылка на DNS-Over-HTTPS (DoH)" title="Прямая ссылка на DNS-Over-HTTPS (DoH)">​</a></h3><p><img loading="lazy" alt="adguard-dns-over-https" src="/assets/images/adguard-dns-over-https-9194db812f76f2b44c63b89cd1b816ce.png" title="Adguard DNS over HTTPS DoH" width="1189" height="571" class="img_ev3q"></p><p>Настройки - Настройки DNS
DNS Upstream необходимо указать тип DNS over HTTPS, установил такие:</p><ul><li><a href="https://dns.cloudflare.com/dns-query" target="_blank" rel="noopener noreferrer">https://dns.cloudflare.com/dns-query</a></li><li><a href="https://dns-unfiltered.adguard.com/dns-query" target="_blank" rel="noopener noreferrer">https://dns-unfiltered.adguard.com/dns-query</a></li></ul><p>Если при нажатии <strong>TEST Upstream</strong> нет ошибок, значит все установлено правильно и можно проверять.</p><p><strong>Проверка DNS over HTTPS</strong></p><p>для этого использую сервис Cloudflare <a href="https://1.1.1.1/help" target="_blank" rel="noopener noreferrer">1.1.1.1/help</a></p><p><img loading="lazy" alt="doh-test" src="/assets/images/doh-test-5a242173f05ec3ce171013eb6e3443d6.png" title="Chech DNS over HTTPS" width="567" height="753" class="img_ev3q"></p><p><strong>Проверка DNS блокировка рекламы</strong></p><p>Для тестирования использую сервис <a href="https://checkadblock.ru/" target="_blank" rel="noopener noreferrer">checkadblock.ru</a>
<img loading="lazy" alt="dns-block-adds" src="/assets/images/dns-block-adds-e95d735acd87349aee149b4c2bd4f5f5.png" title="dns-block-adds" width="995" height="576" class="img_ev3q">
результаты блокировки рекламы</p><p>Но больше радует что в черные списки попадают сервисы сбора метрик и блокируется это наглядно можно увидеть в статистике главной панели</p><p><img loading="lazy" alt="adguard-dns-web-gui" src="/assets/images/adguard-dns-web-gui-47adc87afd219657ec7977def1666ced.png" title="adguard-dns-web-gui" width="968" height="886" class="img_ev3q"></p><p>где видно как Яндекс Станция активно пытается отправлять метрики, но их блокирует DNS Server.</p><p><strong>Дополнительные настройки</strong></p><p>Так же можно тонко настраивать клиентов и распределять их по группам с разными правилами, ручные записи DNS, белые списки, блокировать контент 18+ и т.д.</p><p><strong>Блокировка сервисов</strong></p><p><img loading="lazy" alt="dns-block-service" src="/assets/images/dns-block-service-545a212e0904b9777e2686b3d7aa47eb.png" title="dns-block-service" width="1078" height="875" class="img_ev3q"></p><p>Позволяет быстро заблокировать популярные сайты и сервисы.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="итоги">Итоги<a href="#итоги" class="hash-link" aria-label="Прямая ссылка на Итоги" title="Прямая ссылка на Итоги">​</a></h2><p>Очень интересный проект, мне кажется на данный момент самый лучший DNS сервер для дома, так же лицензия позволяет устанавливать в школах и образовательных учреждениях (для блокировки доступа к запрещенному контенту) и коммерческих организациях (возможно актуально для малого офиса для блокировки рекламы и отвлекающих сервисов)
Простота установки и настройки, удобный интерфейс управления.</p>]]></content:encoded>
            <category>docker</category>
            <category>homelab</category>
            <category>adguard</category>
            <category>dns</category>
        </item>
        <item>
            <title><![CDATA[Cache Server для компьютерного клуба]]></title>
            <link>https://akmalov.com/blog/cache-server</link>
            <guid>https://akmalov.com/blog/cache-server</guid>
            <pubDate>Fri, 12 Jul 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[Сервер для компьютерного клуба. Cache Server позволяет разгрузить интернет канал и скачивать обновления по локальной сети]]></description>
            <content:encoded><![CDATA[<p>Сервер для компьютерного клуба. Cache Server позволяет разгрузить интернет канал и скачивать обновления по локальной сети</p><p><a href="/blog/cache-server"><img loading="lazy" alt="lan cache server" src="/assets/images/logo-lan-cache-server-c5bc5dc85b5c721dff6ee00114a80d9b.png" width="1500" height="500" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cache-server---сервер-кэширования">CACHE SERVER - Сервер кэширования<a href="#cache-server---сервер-кэширования" class="hash-link" aria-label="Прямая ссылка на CACHE SERVER - Сервер кэширования" title="Прямая ссылка на CACHE SERVER - Сервер кэширования">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="сервер-для-компьютерного-клуба">Сервер для компьютерного клуба<a href="#сервер-для-компьютерного-клуба" class="hash-link" aria-label="Прямая ссылка на Сервер для компьютерного клуба" title="Прямая ссылка на Сервер для компьютерного клуба">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="введение">Введение<a href="#введение" class="hash-link" aria-label="Прямая ссылка на Введение" title="Прямая ссылка на Введение">​</a></h2><p>Один из компьютерных клубов просил помочь отладить сеть, так как появились жалобы от пользователей, что «тормозит интернет, пинги скачут, временами лагает». Было выявлено, что такие проблемы начинаются при большой нагрузке канала, при скачивании и обновлении игр. Более 30 компьютеров в клубе.</p><p>Установили основной маршрутизатор Mikrotik, настроили приоритизацию трафика, основная часть проблемы ушла.</p><p>Во время анализа сети, увидели, что большую часть трафика составляют обновления, которые каждый включенный компьютер начинает скачивать с интернета. Игр различных множество, многие обновления  имеют не маленький объем.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="задача">Задача<a href="#задача" class="hash-link" aria-label="Прямая ссылка на Задача" title="Прямая ссылка на Задача">​</a></h2><p>Планировалось установить локальный сервер к которому компьютеры будут обращаться за обновлениями. Когда первый компьютер в сети скачает обновления, эти данные останутся на сервере. В дальнейшем другие компьютеры, которые планируют скачать те же самые файлы, получат их напрямую с сервера, значительно быстрее и не нагружая интернет канал.</p><p><img loading="lazy" alt="cache-server-shema" src="/assets/images/cache-server-shema-a3c97ccd8afd7a5ee97ab454f91cba30.png" width="852" height="633" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="реализация">Реализация<a href="#реализация" class="hash-link" aria-label="Прямая ссылка на Реализация" title="Прямая ссылка на Реализация">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="оборудование">Оборудование<a href="#оборудование" class="hash-link" aria-label="Прямая ссылка на Оборудование" title="Прямая ссылка на Оборудование">​</a></h3><p>Буду использовать один из имеющихся обычных ПК в качестве сервера.</p><ul><li>CPU — Intel i3-10100</li><li>RAM — 8Gb</li><li>SSD 120 Gb — под ОС</li><li>NVMe A-Data 1Tb — под кэш</li></ul><p>Под кэш нужен быстрый NVMe диск, на надежность можно не обращать внимания т.к. никаких важных данных там не будет.</p><p>Так же обязательно наличие гигабитной сети в компьютерном клубе, иначе особо эффекта не будет. (1Gb порты на коммутаторах)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="операционная-система">Операционная система<a href="#операционная-система" class="hash-link" aria-label="Прямая ссылка на Операционная система" title="Прямая ссылка на Операционная система">​</a></h3><p>Можно использовать любую ОС Linux которая по душе. Мне в плане администрирования удобнее сразу же накатить Proxmox, так же будет запас для будущих проектов.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux-container">Linux Container<a href="#linux-container" class="hash-link" aria-label="Прямая ссылка на Linux Container" title="Прямая ссылка на Linux Container">​</a></h3><p>LXC контейнер для удобства установки. Ubuntu 21.04 template.</p><p>А внутри него уже докер</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">apt-get update &amp;&amp; apt-get upgrade -y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">apt-get install net-tools</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">apt-get install docker.io -y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">apt-get install docker-compose</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">systemctl enable docker</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">systemctl start docker</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">reboot</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">systemctl status docker  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cache-server">CACHE SERVER<a href="#cache-server" class="hash-link" aria-label="Прямая ссылка на CACHE SERVER" title="Прямая ссылка на CACHE SERVER">​</a></h2><p>GAME CACHE SERVER</p><p>Есть готовый сервис для этих целей от <a href="https://lancache.net/" target="_blank" rel="noopener noreferrer">LANCACHE.NET</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">git clone https://github.com/lancachenet/docker-compose lancache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd lancache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">nano .env</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Файл конфигурации
<img loading="lazy" alt="cache-server-config" src="/assets/images/cache-server-config-b55a07da6fcf6734ee2d14cc87cdd4fb.png" width="1133" height="578" class="img_ev3q"></p><ul><li>LANCACHE_IP - aдрес LXC</li><li>DNS_BIND_IP - aдрес LXC</li><li>СACHE_DISK_SIZE - Размер диска под кэш </li><li>NVMe TZ (time zone) — Asia/Yekaterinburg</li></ul><p>Запуск</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker-compose up -d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker stats</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Должно быть запущено 2 сервиса. DNS и Cache
<img loading="lazy" alt="cache-server-stats" src="/assets/images/cache-server-stats-e0ec2abbd9d73a40f4d21bf435fd5391.png" width="1111" height="449" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="тестирование">Тестирование<a href="#тестирование" class="hash-link" aria-label="Прямая ссылка на Тестирование" title="Прямая ссылка на Тестирование">​</a></h2><p>На компьютере в настройках IP адреса, редактирую DNS Server, меняю на адрес нашего LXC сервера.
Скачивание игры с любого ПК и пробую загрузить эту же игру с другого ПК.
<img loading="lazy" alt="compare-game-cacheserver" src="/assets/images/compare-game-cacheserver-5a18da66eb59b65552b39aab9f0f255f.png" width="1860" height="568" class="img_ev3q"></p><p>Для наглядного сравнения.</p><ul><li>С интернета — 10 Мбайт/c (80 Мбит/c)</li><li>С кэш сервера — 80 Мбайт/c (640 Мбит/c)</li></ul><p><img loading="lazy" alt="NFS-hot-gaming-lounge" src="/assets/images/NFS-hot-gaming-lounge-37a990aa04a5ba1461c806de3f62551e.png" width="1918" height="390" class="img_ev3q"></p><p>Здесь уже упираюсь в пропускную способность сети и дисков на ПК</p><p>Обновления до 1 Гб скачиваются по щелчку пальцев.</p><p>Заказчик доволен тесты прошли успешно.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="итоги">Итоги<a href="#итоги" class="hash-link" aria-label="Прямая ссылка на Итоги" title="Прямая ссылка на Итоги">​</a></h2><p>По результатам кэш сервер для компьютерного клуба дает ощутимые результаты и сильно разгружает интернет канал.</p><p>Зачем скачивать одни и те же файлы с интернета если сервер может один раз скачать и поделится по локальной сети.</p><p><img loading="lazy" alt="cache-server-shema" src="/assets/images/cache-server-shema-2-8f10a1e222dae99e1f8a1d4984f6b304.png" width="1263" height="641" class="img_ev3q">
<img loading="lazy" alt="cache-server-shema" src="/assets/images/cache-server-shema-3-bce245c4066765b87eb5fe3a19b38efd.png" width="1255" height="635" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ps">P.S.<a href="#ps" class="hash-link" aria-label="Прямая ссылка на P.S." title="Прямая ссылка на P.S.">​</a></h2><p>Статья старая, давно на деле не проверял, сам сервис тоже обновлялся поэтому лучше ориентироваться на <a href="https://github.com/lancachenet/docker-compose" target="_blank" rel="noopener noreferrer">Github страницу</a> и инструкции на офф.сайте</p>]]></content:encoded>
            <category>docker</category>
            <category>linux</category>
            <category>server</category>
            <category>cache</category>
            <category>lan</category>
            <category>networks</category>
        </item>
        <item>
            <title><![CDATA[RDP wrapper]]></title>
            <link>https://akmalov.com/blog/rdp-wrapper</link>
            <guid>https://akmalov.com/blog/rdp-wrapper</guid>
            <pubDate>Fri, 21 Jun 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[Что такое RDP wrapper, как его устанавливать, краткая инструкция как создать пользователя для удаленного рабочего стола]]></description>
            <content:encoded><![CDATA[<p>Для чего нужен RDP wrapper для дома, как его устанавливать, краткая инструкция как создать пользователя для удаленного рабочего стола</p><p><a href="/blog/rdp-wrapper"><img loading="lazy" alt="rdp wrapper" src="/assets/images/logo-rdpwrap-d5a2ecad6f46e9c85caacd2d96561531.png" width="1500" height="500" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="для-чего-нужен-rdp-wrapper">Для чего нужен RDP wrapper?<a href="#для-чего-нужен-rdp-wrapper" class="hash-link" aria-label="Прямая ссылка на Для чего нужен RDP wrapper?" title="Прямая ссылка на Для чего нужен RDP wrapper?">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="про-стандартный-rdp">Про стандартный RDP<a href="#про-стандартный-rdp" class="hash-link" aria-label="Прямая ссылка на Про стандартный RDP" title="Прямая ссылка на Про стандартный RDP">​</a></h3><p>RDP (Remote Desktop Protocol) — дословно протокол Удаленного Рабочего Стола. Позволяет подключится к компьютеру по IP адресу с любого другого компьютера.  </p><p>Подключение по протоколу RDP осуществляется между компьютерами, находящимися в одной локальной сети, или по интернету, но для этого потребуются дополнительные действия – проброс порта 3389 на роутере, либо соединение с удаленным компьютером по VPN.</p><p>Для подключения к удаленному рабочему столу , необходимо разрешить удаленное подключение — Свойства компьютера — дополнительные параметры системы —  удаленный доступ</p><p><img loading="lazy" alt="access rdp" src="/assets/images/access_rdp-8f84069f0fc8c1f320e1a6080ae7958c.png" width="408" height="483" class="img_ev3q"></p><ul><li><strong>Windows 10 Home</strong> — данная функция отключена</li><li><strong>Windows 10 Pro</strong> — позволяет одновременно использовать только одно подключение под выбранным пользователем</li><li><strong>Windows Server</strong> — позволяет подключаться сразу с нескольких устройств, под разными пользователями и работать одновременно.</li></ul><p>При подключении используются все ресурсы удаленного компьютера, позволяет передавать принтеры, буфер обмена, диски, порты, устройства захвата. Благодаря этому часто в организациях ставят мощный сервер, а пользователям дают монитор с мышкой, клавиатурой и слабенький ПК в качестве тонкого клиента, который служит только для подключения к серверу. При этом все пользователи будут полноценно работать на производительном сервере.</p><p><img loading="lazy" alt="nuc-monitor" src="/assets/images/nuc-monitor-9cbd4541b066e6fb9037ddd78451539c.png" title="тонкий клиент" width="1600" height="1063" class="img_ev3q"></p><p>Так же RDP часто используется в 1С для работы с файловой базой данных</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="о-rdpwrapper">О RDPwrapper<a href="#о-rdpwrapper" class="hash-link" aria-label="Прямая ссылка на О RDPwrapper" title="Прямая ссылка на О RDPwrapper">​</a></h3><p>Была такая репа на Github <a href="https://github.com/stascorp/rdpwrap" target="_blank" rel="noopener noreferrer">https://github.com/stascorp/rdpwrap</a>.
Цель этого проекта - включить поддержку хоста удаленного рабочего стола и одновременные сеансы RDP в системах с ограниченной функциональностью для домашнего использования.</p><p>т.е. позволяет на любой системе использовать все преимущества RDP как в Windows Server, что является нарушением лицензии и делать такое нельзя. Далее в ознакомительных целях</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="установка">Установка<a href="#установка" class="hash-link" aria-label="Прямая ссылка на Установка" title="Прямая ссылка на Установка">​</a></h2><ol><li><p>Отключить антивирус, создать папку C:\Program Files\RDP Wrapper и добавить его в ислючение</p></li><li><p>Скачать RDP Wrapper <a href="https://github.com/stascorp/rdpwrap/releases/download/v1.6.2/RDPWrap-v1.6.2.zip" target="_blank" rel="noopener noreferrer">https://github.com/stascorp/rdpwrap/releases/download/v1.6.2/RDPWrap-v1.6.2.zip</a> и распаковать в ранее созданную папку</p></li><li><p>Скачать файл <a href="https://t.me/rdpwrap/31497" target="_blank" rel="noopener noreferrer">autoupdate.bat</a> и распоквать в ту же папку с RDP Wrapper</p></li><li><p>Запустить run autoupdate.bat от имени администратора</p></li><li><p>Перезагрузить</p></li><li><p>Проверяем</p></li></ol><p><img loading="lazy" alt="rdp wrap" src="/assets/images/rdp_wrap2-1-9c8ab5a7aadb3fbabfc49ba627338c7a.png" title="rdp wrap" width="1289" height="738" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="добавление-нового-пользователя">Добавление нового пользователя<a href="#добавление-нового-пользователя" class="hash-link" aria-label="Прямая ссылка на Добавление нового пользователя" title="Прямая ссылка на Добавление нового пользователя">​</a></h2><p>Создать нового пользователя (учетную запись Windows)
<img loading="lazy" alt="rdp_wrap_user" src="/assets/images/rdp_wrap_user-1e35d0a90de4788c561660d791611079.png" title="rdp create user" width="979" height="704" class="img_ev3q"></p><p>Добавить новому пользователю членство в группе «Пользователи удаленного рабочего стола»</p><p><img loading="lazy" alt="rdp_wrap_group" src="/assets/images/rdp_wrap_group-261c70271ffb11a241091eee7e35da4c.png" title="rdp create user" width="982" height="701" class="img_ev3q"></p><p>Таким образом можно спокйно использовать домашний ПК и его производительность делить на несколько пользователей</p><p>При обновлении Windows возможно будет необходимо запустить файл autoupdate.bat</p><p>Самое большое количество вопросов, обсуждений и помощи по данной теме происходит в телеграмм группе <a href="https://t.me/rdpwrap" target="_blank" rel="noopener noreferrer">https://t.me/rdpwrap</a></p>]]></content:encoded>
            <category>rdp</category>
            <category>windows</category>
            <category>server</category>
        </item>
        <item>
            <title><![CDATA[First test post]]></title>
            <link>https://akmalov.com/blog/test-post</link>
            <guid>https://akmalov.com/blog/test-post</guid>
            <pubDate>Wed, 13 Sep 2017 10:00:00 GMT</pubDate>
            <description><![CDATA[This is the summary of a very long blog post,]]></description>
            <content:encoded><![CDATA[<p>This is the summary of a very long blog post,</p><p>Use a <code>&lt;!--</code> <code>truncate</code> <code>--&gt;</code> comment to limit blog post size in the list view.</p><p>Blog posts support <a href="https://docusaurus.io/docs/markdown-features" target="_blank" rel="noopener noreferrer">Docusaurus Markdown features</a>, such as <a href="https://mdxjs.com/" target="_blank" rel="noopener noreferrer">MDX</a>.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>подсказка</div><div class="admonitionContent_S0QG"><p>Use the power of React to create interactive blog posts.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token operator">&lt;</span><span class="token plain">button onClick</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">alert</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'button clicked!'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token operator">&gt;</span><span class="token maybe-class-name">Click</span><span class="token plain"> me</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">button</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Скопировать в буфер обмена" title="Скопировать" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><button>Click me!</button></div></div>]]></content:encoded>
            <category>kubernetes</category>
            <category>devops</category>
        </item>
    </channel>
</rss>